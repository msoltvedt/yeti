{"version":3,"file":"yeti-reorderee.entry.esm.js","sources":["src/components/yeti-reorderee/yeti-reorderee.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Event, EventEmitter } from '@stencil/core';\r\n\r\n@Component({\r\n  tag: 'yeti-reorderee',\r\n  shadow: false,\r\n})\r\nexport class YetiReorderee {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n\r\n  @Event() reorderRequested: EventEmitter;\r\n\r\n\r\n  /**\r\n   * Id assigned by parent Yeti Reorderer component.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) assignedId: string = '';\r\n\r\n  /**\r\n   * Position (of sibling yeti-reorderee elements) assigned by parent Yeti Reorderer component.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) position: number = -1;\r\n\r\n  /**\r\n   * Total number of yeti-reorderee siblings, including this one (assigned by parent Yeti Reorderer component)\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) reorderees: number = -1;\r\n\r\n  /**\r\n   * CSS class list that should apply to the HTML element wrapping the slotted content.\r\n   */\r\n  @Prop() wrapperClass?: string = '';\r\n\r\n  /**\r\n   * Id of the HTML element that should move this reorderee up the order when clicked.\r\n   */\r\n  @Prop() upTrigger: string = '';\r\n\r\n  /**\r\n   * Id of the HTML element that should move this reorderee up the order when clicked.\r\n   */\r\n  @Prop() downTrigger: string = '';\r\n\r\n  /**\r\n   * Used to toggle a re-render of the icon.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n  handleUpTrigger(ev) {\r\n    this.reorderRequested.emit({\r\n      \"assignedId\": this.assignedId,\r\n      \"position\": this.position,\r\n      \"isUp\": true,\r\n      \"isDisabled\": (this.position == 0)\r\n    });\r\n\r\n    ev.stopImmediatePropagation();\r\n    ev.preventDefault();\r\n  }\r\n\r\n  handleDownTrigger(ev) {\r\n    this.reorderRequested.emit({\r\n      \"assignedId\": this.assignedId,\r\n      \"position\": this.position,\r\n      \"isUp\": false,\r\n      \"isDisabled\": ((this.position+1) >= this.reorderees)\r\n    });\r\n\r\n    ev.stopImmediatePropagation();\r\n    ev.preventDefault();\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let wrapperClass = \"yeti-reorderee\";\r\n\r\n    if (this.wrapperClass != '') {\r\n      wrapperClass += ` ${this.wrapperClass}`;\r\n    }\r\n\r\n    return (\r\n\r\n        <li class={wrapperClass}><slot /></li>\r\n\r\n    );\r\n  }\r\n\r\n\r\n\r\n  componentDidRender() {\r\n    // Set disabled state for edge case triggers\r\n    let upTrigger = this.el.querySelector(`#${this.upTrigger}`);\r\n    let downTrigger = this.el.querySelector(`#${this.downTrigger}`);\r\n\r\n    if (upTrigger) {\r\n\r\n      if (this.position == 0) {\r\n        upTrigger.setAttribute(\"disabled\", \"\");\r\n        upTrigger.classList.add(\"yeti-reorderee__disabled\");\r\n      } else {\r\n        upTrigger.removeAttribute(\"disabled\");\r\n        upTrigger.classList.remove(\"yeti-reorderee__disabled\");\r\n      }\r\n      \r\n    }\r\n    \r\n\r\n    if (downTrigger) {\r\n\r\n      if ((this.position+1) >= this.reorderees) {\r\n        downTrigger.setAttribute(\"disabled\", \"\");\r\n        downTrigger.classList.add(\"yeti-reorderee__disabled\");\r\n      } else {\r\n        downTrigger.removeAttribute(\"disabled\");\r\n        downTrigger.classList.remove(\"yeti-reorderee__disabled\");\r\n      }\r\n      \r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  componentDidLoad() {\r\n    // Register click handlers on up and down triggers\r\n    let upTrigger = this.el.querySelector(`#${this.upTrigger}`);\r\n    let downTrigger = this.el.querySelector(`#${this.downTrigger}`);\r\n    \r\n    if (upTrigger) {\r\n      upTrigger.addEventListener(\"click\", (ev) => { this.handleUpTrigger(ev) });\r\n    }\r\n    \r\n    if (downTrigger) {\r\n      downTrigger.addEventListener(\"click\", (ev) => { this.handleDownTrigger(ev) });\r\n    }\r\n  }\r\n\r\n}"],"names":[],"mappings":"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"}