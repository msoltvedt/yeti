{"version":3,"file":"yeti-toast.entry.esm.js","sources":["src/components/yeti-toast/yeti-toast.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Event, EventEmitter } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-toast',\r\n  shadow: false,\r\n})\r\nexport class YetiToast {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * Fires when the user clicks the action button.\r\n   */\r\n  @Event({ bubbles: true }) toastActionClick: EventEmitter;\r\n\r\n\r\n  /**\r\n   * CSS classlist to add to the element serving as the component's wrapper.\r\n   */\r\n  @Prop() actualClass: string = '';\r\n\r\n  /**\r\n   * The type of toast: error (default) | info | success | warning | warningAlt.\r\n   */\r\n  @Prop() toastType: string = \"\";\r\n\r\n  /**\r\n   * Whether to use the high-contrast variant or not.\r\n   */\r\n  @Prop() isHighContrast: boolean = false;\r\n\r\n  /**\r\n   * Whether to show the close button or not.\r\n   */\r\n  @Prop() showCloseButton: boolean = true;\r\n\r\n  /**\r\n   * Which icon to use (see Google Material Icons).\r\n   */\r\n  @Prop() iconCode: string = \"\";\r\n\r\n  /**\r\n   * The alt text for the icon.\r\n   */\r\n  @Prop() iconAltText: string = \"\";\r\n\r\n  /**\r\n   * Text value to display as the toast's title.\r\n   */\r\n  @Prop() textTitle: string = \"Mmmm Toast!\";\r\n\r\n  /**\r\n   * Optionally set a size (currently only supports default and \"full\")\r\n   */\r\n  @Prop() size: string = \"\";\r\n\r\n  /**\r\n   * Text label for the action button.\r\n   */\r\n  @Prop() actionLabel: string = \"\";\r\n\r\n  /**\r\n   * id of the component's slot element.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) slotId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * id of the component's actual element corresponding to the tooltip. Will be auto-populated with a unique value if not provided.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) toastId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * Time in ms before the Toast closes itself. Values of less than 1 will be ignored.\r\n   */\r\n  @Prop() closesSelfAfter: number = 0;\r\n\r\n  /**\r\n   * Toggle to force a re-render of the whole component.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n  /**\r\n   * Whether the toast is closed or not.\r\n   */\r\n  @Prop() isClosed: boolean = false;\r\n\r\n\r\n\r\n  handleCloseClick(e) {\r\n\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n    this.isClosed = true;\r\n\r\n  }\r\n\r\n\r\n\r\n  handleActionClick(e) {\r\n    this.toastActionClick.emit();\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n    // Set up ids\r\n    let componentId = this.el.getAttribute(\"id\");\r\n\r\n    if (!componentId || componentId == \"\") {\r\n      componentId = utils.generateUniqueId();\r\n      this.el.setAttribute(\"id\", componentId);\r\n    }\r\n\r\n    this.toastId = (this.toastId != \"\") ? this.toastId : `${componentId}_tip`;\r\n    this.slotId = (this.slotId != \"\") ? this.slotId : `${componentId}_slot`;\r\n\r\n    if (this.closesSelfAfter > 0) {\r\n      setTimeout(() => {\r\n        this.isClosed = true;\r\n      }, this.closesSelfAfter);\r\n    }\r\n\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let altText = this.iconAltText;\r\n    let iconCode = this.iconCode;\r\n    let wrapperClass = 'yeti-toast-wrapper';\r\n    let actualClass = 'yeti-toast';\r\n    actualClass += (this.size == 'full') ? ' yeti-toast_full' : '';\r\n    actualClass += (this.actualClass !== '') ? ` ${this.actualClass}` : ``;\r\n\r\n    wrapperClass += (this.isClosed) ? ' yeti-toast-wrapper__closed' : '';\r\n\r\n    // Set type-based CSS class\r\n    switch (this.toastType) {\r\n\r\n      case \"error\":\r\n\r\n        actualClass += ' yeti-toast-error';\r\n        altText = (altText != '') ? altText : 'Error';\r\n        iconCode = (iconCode != '') ? iconCode : 'error';\r\n        break;\r\n\r\n      case \"success\":\r\n\r\n        actualClass += ' yeti-toast-success';\r\n        altText = (altText != '') ? altText : 'Success';\r\n        iconCode = (iconCode != '') ? iconCode : 'check_circle';\r\n        break;\r\n\r\n      case \"warning\":\r\n\r\n        actualClass += ' yeti-toast-warning';\r\n        altText = (altText != '') ? altText : 'Warning';\r\n        iconCode = (iconCode != '') ? iconCode : 'warning';\r\n        break;\r\n\r\n      case \"\":\r\n      case \"info\":\r\n      default:\r\n\r\n        actualClass += ' yeti-toast-info';\r\n        altText = (altText != '') ? altText : 'Information';\r\n        iconCode = (iconCode != '') ? iconCode : 'info';\r\n        break;\r\n\r\n    }\r\n    \r\n\r\n    // Set low-contrast mode\r\n    actualClass += (this.isHighContrast) ? ' yeti-toast-high_contrast' : '';\r\n  \r\n\r\n    return (\r\n      <div class={wrapperClass}>\r\n\r\n        <div class={actualClass} id={this.toastId} role=\"status\">\r\n\r\n          <div class=\"yeti-toast-icon\">\r\n            \r\n            <span class=\"material-icons\" aria-hidden=\"true\">{iconCode}</span>\r\n            <span class=\"yeti-a11y-hidden\">{altText}</span>\r\n\r\n          </div>\r\n\r\n\r\n          <div class=\"yeti-toast-content\">\r\n\r\n            <div class=\"yeti-toast-content-text\">\r\n          \r\n              {\r\n                (this.textTitle != \"\") ?\r\n                  <div class=\"yeti-toast-content-text-title\">{this.textTitle}</div>\r\n                :\r\n                  ''\r\n              }\r\n              <div class=\"yeti-toast-content-text-copy\">\r\n\r\n                <slot />\r\n\r\n              </div>\r\n\r\n            </div>\r\n\r\n\r\n            {\r\n              (this.actionLabel != \"\") ?\r\n\r\n                <button class=\"yeti-toast-action yeti-button yeti-button-tertiary yeti-button-size-xs\" onClick={(e) => this.handleActionClick(e)}>\r\n                  {this.actionLabel}\r\n                </button>\r\n              :\r\n                \"\"\r\n            }\r\n\r\n          </div>\r\n\r\n          {\r\n            (this.showCloseButton) ?\r\n\r\n              <button class=\"yeti-toast-close\" onClick={(e) => this.handleCloseClick(e)}>\r\n                <span class=\"material-icons\">close</span>\r\n              </button>\r\n            :\r\n              \"\"\r\n          }\r\n\r\n        </div>\r\n\r\n      </div>\r\n    );\r\n  }\r\n\r\n}"],"names":[],"mappings":";;;MAOa,SAAS,GAAA,MAAA;AAJtB,IAAA,WAAA,CAAA,OAAA,EAAA;;;AAcE;;AAEG;AACK,QAAA,IAAW,CAAA,WAAA,GAAW,EAAE;AAEhC;;AAEG;AACK,QAAA,IAAS,CAAA,SAAA,GAAW,EAAE;AAE9B;;AAEG;AACK,QAAA,IAAc,CAAA,cAAA,GAAY,KAAK;AAEvC;;AAEG;AACK,QAAA,IAAe,CAAA,eAAA,GAAY,IAAI;AAEvC;;AAEG;AACK,QAAA,IAAQ,CAAA,QAAA,GAAW,EAAE;AAE7B;;AAEG;AACK,QAAA,IAAW,CAAA,WAAA,GAAW,EAAE;AAEhC;;AAEG;AACK,QAAA,IAAS,CAAA,SAAA,GAAW,aAAa;AAEzC;;AAEG;AACK,QAAA,IAAI,CAAA,IAAA,GAAW,EAAE;AAEzB;;AAEG;AACK,QAAA,IAAW,CAAA,WAAA,GAAW,EAAE;AAEhC;;AAEG;AAIA,QAAA,IAAA,CAAA,MAAM,GAAW,EAAE,CAAC;AAEvB;;AAEG;AAIA,QAAA,IAAA,CAAA,OAAO,GAAW,EAAE,CAAC;AAExB;;AAEG;AACK,QAAA,IAAe,CAAA,eAAA,GAAW,CAAC;AAEnC;;AAEG;AACM,QAAA,IAAQ,CAAA,QAAA,GAAY,KAAK;AAElC;;AAEG;AACK,QAAA,IAAQ,CAAA,QAAA,GAAY,KAAK;AA0JlC;AAtJC,IAAA,gBAAgB,CAAC,CAAC,EAAA;QAEhB,CAAC,CAAC,wBAAwB,EAAE;QAC5B,CAAC,CAAC,cAAc,EAAE;AAClB,QAAA,IAAI,CAAC,QAAQ,GAAG,IAAI;;AAMtB,IAAA,iBAAiB,CAAC,CAAC,EAAA;AACjB,QAAA,IAAI,CAAC,gBAAgB,CAAC,IAAI,EAAE;QAC5B,CAAC,CAAC,wBAAwB,EAAE;QAC5B,CAAC,CAAC,cAAc,EAAE;;IAKpB,iBAAiB,GAAA;;QAEf,IAAI,WAAW,GAAG,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC;AAE5C,QAAA,IAAI,CAAC,WAAW,IAAI,WAAW,IAAI,EAAE,EAAE;AACrC,YAAA,WAAW,GAAG,KAAK,CAAC,gBAAgB,EAAE;YACtC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,WAAW,CAAC;;QAGzC,IAAI,CAAC,OAAO,GAAG,CAAC,IAAI,CAAC,OAAO,IAAI,EAAE,IAAI,IAAI,CAAC,OAAO,GAAG,CAAA,EAAG,WAAW,CAAA,IAAA,CAAM;QACzE,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,IAAI,EAAE,IAAI,IAAI,CAAC,MAAM,GAAG,CAAA,EAAG,WAAW,CAAA,KAAA,CAAO;AAEvE,QAAA,IAAI,IAAI,CAAC,eAAe,GAAG,CAAC,EAAE;YAC5B,UAAU,CAAC,MAAK;AACd,gBAAA,IAAI,CAAC,QAAQ,GAAG,IAAI;AACtB,aAAC,EAAE,IAAI,CAAC,eAAe,CAAC;;;IAM5B,MAAM,GAAA;AAEJ,QAAA,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW;AAC9B,QAAA,IAAI,QAAQ,GAAG,IAAI,CAAC,QAAQ;QAC5B,IAAI,YAAY,GAAG,oBAAoB;QACvC,IAAI,WAAW,GAAG,YAAY;AAC9B,QAAA,WAAW,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,MAAM,IAAI,kBAAkB,GAAG,EAAE;QAC9D,WAAW,IAAI,CAAC,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,CAAI,CAAA,EAAA,IAAI,CAAC,WAAW,CAAA,CAAE,GAAG,EAAE;AAEtE,QAAA,YAAY,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,6BAA6B,GAAG,EAAE;;AAGpE,QAAA,QAAQ,IAAI,CAAC,SAAS;AAEpB,YAAA,KAAK,OAAO;gBAEV,WAAW,IAAI,mBAAmB;AAClC,gBAAA,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,IAAI,OAAO,GAAG,OAAO;AAC7C,gBAAA,QAAQ,GAAG,CAAC,QAAQ,IAAI,EAAE,IAAI,QAAQ,GAAG,OAAO;gBAChD;AAEF,YAAA,KAAK,SAAS;gBAEZ,WAAW,IAAI,qBAAqB;AACpC,gBAAA,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,IAAI,OAAO,GAAG,SAAS;AAC/C,gBAAA,QAAQ,GAAG,CAAC,QAAQ,IAAI,EAAE,IAAI,QAAQ,GAAG,cAAc;gBACvD;AAEF,YAAA,KAAK,SAAS;gBAEZ,WAAW,IAAI,qBAAqB;AACpC,gBAAA,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,IAAI,OAAO,GAAG,SAAS;AAC/C,gBAAA,QAAQ,GAAG,CAAC,QAAQ,IAAI,EAAE,IAAI,QAAQ,GAAG,SAAS;gBAClD;AAEF,YAAA,KAAK,EAAE;AACP,YAAA,KAAK,MAAM;AACX,YAAA;gBAEE,WAAW,IAAI,kBAAkB;AACjC,gBAAA,OAAO,GAAG,CAAC,OAAO,IAAI,EAAE,IAAI,OAAO,GAAG,aAAa;AACnD,gBAAA,QAAQ,GAAG,CAAC,QAAQ,IAAI,EAAE,IAAI,QAAQ,GAAG,MAAM;gBAC/C;;;AAMJ,QAAA,WAAW,IAAI,CAAC,IAAI,CAAC,cAAc,IAAI,2BAA2B,GAAG,EAAE;AAGvE,QAAA,QACE,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAE,YAAY,EAAA,EAEtB,CAAA,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAK,KAAK,EAAE,WAAW,EAAE,EAAE,EAAE,IAAI,CAAC,OAAO,EAAE,IAAI,EAAC,QAAQ,EAAA,EAEtD,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,iBAAiB,EAAA,EAE1B,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,KAAK,EAAC,gBAAgB,iBAAa,MAAM,EAAA,EAAE,QAAQ,CAAQ,EACjE,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAM,KAAK,EAAC,kBAAkB,EAAE,EAAA,OAAO,CAAQ,CAE3C,EAGN,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,oBAAoB,EAAA,EAE7B,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,yBAAyB,EAAA,EAGhC,CAAC,IAAI,CAAC,SAAS,IAAI,EAAE;AACnB,YAAA,CAAA,CAAA,KAAA,EAAA,EAAK,KAAK,EAAC,+BAA+B,IAAE,IAAI,CAAC,SAAS;;AAE1D,gBAAA,EAAE,EAEN,CAAK,CAAA,KAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,KAAK,EAAC,8BAA8B,EAAA,EAEvC,CAAA,CAAA,MAAA,EAAA,EAAA,GAAA,EAAA,0CAAA,EAAA,CAAQ,CAEJ,CAEF,EAIJ,CAAC,IAAI,CAAC,WAAW,IAAI,EAAE;YAErB,CAAQ,CAAA,QAAA,EAAA,EAAA,KAAK,EAAC,wEAAwE,EAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,iBAAiB,CAAC,CAAC,CAAC,EAC7H,EAAA,IAAI,CAAC,WAAW;;gBAGnB,EAAE,CAGF,EAGJ,CAAC,IAAI,CAAC,eAAe;AAEnB,YAAA,CAAA,CAAA,QAAA,EAAA,EAAQ,KAAK,EAAC,kBAAkB,EAAC,OAAO,EAAE,CAAC,CAAC,KAAK,IAAI,CAAC,gBAAgB,CAAC,CAAC,CAAC,EAAA,EACvE,CAAA,CAAA,MAAA,EAAA,EAAM,KAAK,EAAC,gBAAgB,EAAA,EAAA,OAAA,CAAa;;gBAG3C,EAAE,CAGF,CAEF;;;;;;;"}