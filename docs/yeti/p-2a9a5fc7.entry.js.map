{"version":3,"names":["YetiProgressBar","constructor","hostRef","this","wrapperClass","labelClass","barClass","barId","progress","label","tooltipText","tooltipPosition","helperText","error","iLoveJSX","handleProgressChange","newValue","isNaN","console","warn","renderIcon","state","h","class","renderLabel","tooltipId","el","getAttribute","text","id","tabIndex","renderProgressBar","actualStyle","progressBar","Object","assign","style","componentWillLoad","componentId","utils","generateUniqueId","setAttribute","render","width","position","blockAnchor"],"sources":["src/components/yeti-progress-bar/yeti-progress-bar.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Watch } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-progress-bar',\r\n  shadow: false,\r\n})\r\nexport class YetiProgressBar {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * CSS classlist to add to the component's outer wrapper element.\r\n   */\r\n  @Prop() wrapperClass: string = '';\r\n\r\n  /**\r\n   * CSS classlist to add to the component's actual label element.\r\n   */\r\n  @Prop() labelClass: string = '';\r\n\r\n  /**\r\n   * CSS classlist to add to the element representing the component's progress bar.\r\n   */\r\n  @Prop() barClass: string = '';\r\n\r\n  /**\r\n   * id of the element representing the component's progress bar. Will be given an auto-generated unique id if one is not provided.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) barId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * Number between 0 and 100 that describes the percentage complete to display in the bar.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) progress: number = 0;\r\n  @Watch('progress')\r\n  handleProgressChange(newValue: number) {\r\n    if (isNaN(newValue) || newValue < 0 || newValue > 100) {\r\n      console.warn(\"Error in progress bar. Progress must be a number between 0 and 100.\");\r\n      this.progress = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Text content for the component's label.\r\n   */\r\n  @Prop() label: string = \"\";\r\n\r\n  /**\r\n   * Text content for the component's tooltip.\r\n   */\r\n  @Prop() tooltipText: string = \"\";\r\n\r\n  /**\r\n   * Token list describing the component's tooltip's position relative to the bar: left | right and/or above | below.\r\n   */\r\n  @Prop() tooltipPosition: string = \"\";\r\n\r\n  /**\r\n   * Text content that appears beneath the bar as helper text.\r\n   */\r\n  @Prop() helperText: string = \"\";\r\n\r\n  /**\r\n   * Whether or not the bar should depict an error state.\r\n   */\r\n  @Prop() error: boolean = false;\r\n\r\n  /**\r\n   * Toggle to re-render the entire component.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n\r\n\r\n  renderIcon() {\r\n    let state = \"\";\r\n    \r\n    if (this.error) {\r\n      state = \r\n      \r\n        <div class=\"yeti-progress_bar-state\">\r\n\r\n          <span class=\"material-icons yeti-progress_bar-state-icon\">error</span>\r\n\r\n        </div>;\r\n\r\n    }\r\n\r\n    if (this.progress == 100) {\r\n      state = \r\n      \r\n        <div class=\"yeti-progress_bar-state\">\r\n\r\n          <span class=\"material-icons yeti-progress_bar-state-icon\" aria-hidden=\"true\">check_circle</span>\r\n          <span class=\"yeti-a11y-hidden\">Finished</span>\r\n\r\n        </div>;\r\n\r\n    }\r\n\r\n    return state;\r\n\r\n  }\r\n\r\n\r\n\r\n  renderLabel(labelClass: string) {\r\n    let state = \"\";\r\n    let tooltipId = `${this.el.getAttribute(\"id\")}_tooltip`;\r\n    \r\n    if (this.tooltipText != \"\" && this.tooltipPosition != \"below\") {\r\n      \r\n      state = <yeti-tooltip text={this.tooltipText} id={tooltipId}>\r\n        <div class={labelClass} tabIndex={0}>{this.label} <span class=\"yeti-a11y-hidden\">{this.progress}%</span></div>\r\n      </yeti-tooltip>;\r\n\r\n    } else {\r\n\r\n      state = <div class={labelClass}>{this.label} <span class=\"yeti-a11y-hidden\">{this.progress}%</span></div>;\r\n\r\n    }\r\n\r\n    return state;\r\n\r\n  }\r\n\r\n\r\n\r\n  renderProgressBar(wrapperClass, labelClass, barClass, actualStyle) {\r\n      let progressBar =\r\n\r\n        <div \r\n          class={wrapperClass}\r\n          id={this.barId}\r\n          {...((this.tooltipText != \"\" && this.tooltipPosition == \"below\") ? {tabIndex: 0} : {})}>\r\n\r\n          <div class=\"yeti-progress_bar-header\">\r\n            \r\n            {this.renderLabel(labelClass)}\r\n\r\n            {this.renderIcon()}\r\n\r\n          </div>\r\n\r\n          <div class={barClass} aria-hidden=\"true\">\r\n              <div class=\"yeti-progress_bar-bar-actual\" style={actualStyle}></div>\r\n          </div>\r\n\r\n          {(this.helperText != \"\") ?\r\n          \r\n            <div class=\"yeti-progress_bar-tip\">{this.helperText}</div>\r\n\r\n          : \r\n            \r\n            \"\"\r\n\r\n          }\r\n\r\n        </div>\r\n\r\n      return progressBar;\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n\r\n    // Set up ids\r\n    let componentId = this.el.getAttribute(\"id\");\r\n\r\n    if (!componentId || componentId == \"\") {\r\n      componentId = utils.generateUniqueId();\r\n      this.el.setAttribute(\"id\", componentId);\r\n    }\r\n\r\n    this.barId = (this.barId != \"\") ? this.barId : `${componentId}_bar`;\r\n\r\n    this.handleProgressChange(this.progress);\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let wrapperClass = 'yeti-progress_bar';\r\n    let labelClass = 'yeti-progress_bar-label';\r\n    let barClass = 'yeti-progress_bar-bar';\r\n    let tooltipId = `${this.el.getAttribute(\"id\")}_tooltip`;\r\n\r\n    wrapperClass += (this.progress == 100) ? \" yeti-progress_bar__complete\" : \"\";\r\n    wrapperClass += (this.error) ? \" yeti-progress_bar__error\" : \"\";\r\n\r\n    wrapperClass += (this.wrapperClass && this.wrapperClass != \"\") ? \" \" + this.wrapperClass : \"\";\r\n    labelClass += (this.labelClass && this.labelClass != \"\") ? \" \" + this.labelClass : \"\";\r\n    barClass += (this.barClass && this.barClass != \"\") ? \" \" + this.barClass : \"\";\r\n\r\n    let actualStyle = {\r\n        width: `${this.progress}%`\r\n    };\r\n\r\n    return (\r\n\r\n      (this.tooltipText != \"\" && this.tooltipPosition == \"below\") ?\r\n\r\n        <yeti-tooltip \r\n          text={this.tooltipText} \r\n          position={this.tooltipPosition}\r\n          id={tooltipId}\r\n          blockAnchor={true}>\r\n            \r\n            {this.renderProgressBar(wrapperClass, labelClass, barClass, actualStyle)}\r\n            \r\n        </yeti-tooltip>\r\n      \r\n      :\r\n        \r\n        this.renderProgressBar(wrapperClass, labelClass, barClass, actualStyle)\r\n\r\n    );\r\n  }\r\n\r\n}"],"mappings":"4FAOaA,EAAe,MAJ5B,WAAAC,CAAAC,G,UAWUC,KAAYC,aAAW,GAKvBD,KAAUE,WAAW,GAKrBF,KAAQG,SAAW,GAQxBH,KAAAI,MAAgB,GAQhBJ,KAAQK,SAAW,EAYdL,KAAKM,MAAW,GAKhBN,KAAWO,YAAW,GAKtBP,KAAeQ,gBAAW,GAK1BR,KAAUS,WAAW,GAKrBT,KAAKU,MAAY,MAKhBV,KAAQW,SAAY,KAuJ9B,CA1LC,oBAAAC,CAAqBC,GACnB,GAAIC,MAAMD,IAAaA,EAAW,GAAKA,EAAW,IAAK,CACrDE,QAAQC,KAAK,uEACbhB,KAAKK,SAAW,C,EAoCpB,UAAAY,GACE,IAAIC,EAAQ,GAEZ,GAAIlB,KAAKU,MAAO,CACdQ,EAEEC,EAAK,OAAAC,MAAM,2BAETD,EAAA,QAAMC,MAAM,+CAA6C,S,CAM/D,GAAIpB,KAAKK,UAAY,IAAK,CACxBa,EAEEC,EAAK,OAAAC,MAAM,2BAETD,EAAA,QAAMC,MAAM,8CAA6C,cAAa,QAA0B,gBAChGD,EAAA,QAAMC,MAAM,oBAAkB,Y,CAMpC,OAAOF,C,CAMT,WAAAG,CAAYnB,GACV,IAAIgB,EAAQ,GACZ,IAAII,EAAY,GAAGtB,KAAKuB,GAAGC,aAAa,gBAExC,GAAIxB,KAAKO,aAAe,IAAMP,KAAKQ,iBAAmB,QAAS,CAE7DU,EAAQC,EAAc,gBAAAM,KAAMzB,KAAKO,YAAamB,GAAIJ,GAChDH,EAAA,OAAKC,MAAOlB,EAAYyB,SAAU,GAAI3B,KAAKM,MAAK,IAAEa,EAAM,QAAAC,MAAM,oBAAoBpB,KAAKK,SAAiB,M,KAGrG,CAELa,EAAQC,EAAA,OAAKC,MAAOlB,GAAaF,KAAKM,MAAK,IAAEa,EAAM,QAAAC,MAAM,oBAAoBpB,KAAKK,SAAiB,K,CAIrG,OAAOa,C,CAMT,iBAAAU,CAAkB3B,EAAcC,EAAYC,EAAU0B,GAClD,IAAIC,EAEFX,EAAA,MAAAY,OAAAC,OAAA,CACEZ,MAAOnB,EACPyB,GAAI1B,KAAKI,OACHJ,KAAKO,aAAe,IAAMP,KAAKQ,iBAAmB,QAAW,CAACmB,SAAU,GAAK,IAEnFR,EAAK,OAAAC,MAAM,4BAERpB,KAAKqB,YAAYnB,GAEjBF,KAAKiB,cAIRE,EAAA,OAAKC,MAAOjB,EAAQ,cAAc,QAC9BgB,EAAK,OAAAC,MAAM,+BAA+Ba,MAAOJ,KAGnD7B,KAAKS,YAAc,GAEnBU,EAAA,OAAKC,MAAM,yBAAyBpB,KAAKS,YAIzC,IAMN,OAAOqB,C,CAKX,iBAAAI,GAGE,IAAIC,EAAcnC,KAAKuB,GAAGC,aAAa,MAEvC,IAAKW,GAAeA,GAAe,GAAI,CACrCA,EAAcC,EAAMC,mBACpBrC,KAAKuB,GAAGe,aAAa,KAAMH,E,CAG7BnC,KAAKI,MAASJ,KAAKI,OAAS,GAAMJ,KAAKI,MAAQ,GAAG+B,QAElDnC,KAAKY,qBAAqBZ,KAAKK,S,CAKjC,MAAAkC,GAEE,IAAItC,EAAe,oBACnB,IAAIC,EAAa,0BACjB,IAAIC,EAAW,wBACf,IAAImB,EAAY,GAAGtB,KAAKuB,GAAGC,aAAa,gBAExCvB,GAAiBD,KAAKK,UAAY,IAAO,+BAAiC,GAC1EJ,GAAiBD,KAAU,MAAI,4BAA8B,GAE7DC,GAAiBD,KAAKC,cAAgBD,KAAKC,cAAgB,GAAM,IAAMD,KAAKC,aAAe,GAC3FC,GAAeF,KAAKE,YAAcF,KAAKE,YAAc,GAAM,IAAMF,KAAKE,WAAa,GACnFC,GAAaH,KAAKG,UAAYH,KAAKG,UAAY,GAAM,IAAMH,KAAKG,SAAW,GAE3E,IAAI0B,EAAc,CACdW,MAAO,GAAGxC,KAAKK,aAGnB,OAEGL,KAAKO,aAAe,IAAMP,KAAKQ,iBAAmB,QAEjDW,EAAA,gBACEM,KAAMzB,KAAKO,YACXkC,SAAUzC,KAAKQ,gBACfkB,GAAIJ,EACJoB,YAAa,MAEV1C,KAAK4B,kBAAkB3B,EAAcC,EAAYC,EAAU0B,IAMhE7B,KAAK4B,kBAAkB3B,EAAcC,EAAYC,EAAU0B,E","ignoreList":[]}