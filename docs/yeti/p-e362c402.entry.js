import{r as e,h as t,g as i}from"./p-CXCfC6Yi.js";import{u as s}from"./p-CClhr1ni.js";const n=class{constructor(t){e(this,t);this.openIndex=0;this.sections=0;this.sectionElements=null;this.isWizard=false;this.iLoveJSX=false}handleOpenIndexChange(e){this.openSection(e)}handleAccordionActionClicked(e){switch(e.detail.actionType){case"previous":{if(e.detail.sectionIndex>0){this.openSection(parseInt(e.detail.sectionIndex)-1)}break}case"next":{if(e.detail.sectionIndex<this.sections-1&&e.detail.sectionStatus!="error"){this.openSection(parseInt(e.detail.sectionIndex)+1)}break}}}handleAccordionSectionHeaderClick(e){let t=e.detail.section;if(!t.isOpenable){this.openSection(this.openIndex);return}else{if(t.isOpen){t.isOpen=false}else{this.openSection(e.detail.sectionIndex)}}}openSection(e=0){this.sectionElements.forEach(((t,i)=>{let s=t;let n=s.querySelector(".yeti-accordion-section-heading");let a=s.getAttribute("status");if(i==e){s.setAttribute("is-openable","true");s.setAttribute("status",a=="undefined"?"reachable":a);s.setAttribute("is-open","true");this.openIndex=i;setTimeout((()=>{n===null||n===void 0?void 0:n.focus()}),100)}else{s.setAttribute("is-open","false")}}));this.openIndex=e}componentWillLoad(){this.sectionElements=this.el.querySelectorAll("yeti-accordion-section");this.sections=this.sectionElements.length;if(!this.el.hasAttribute("id")){this.el.setAttribute("id",s.generateUniqueId())}if(!this.sectionElements||this.sectionElements.length<2){console.error("Yeti Accordion must have at least two yeti-accordion-section elements.");return}this.sectionElements.forEach(((e,t)=>{let i=e;i.setAttribute("is-open",`${t==this.openIndex}`);i.setAttribute("index",`${t}`);i.setAttribute("of",`${this.sectionElements.length}`);i.setAttribute("is-openable",`${i.hasAttribute("is-openable")?i.getAttribute("is-openable"):t<=this.openIndex}`);i.setAttribute("status",`${i.hasAttribute("status")?i.getAttribute("status"):t==this.openIndex?"reachable":"undefined"}`);i.setAttribute("is-in-wizard",`${this.isWizard}`)}))}render(){return t("div",{key:"d76c4426516d41469e70708eeed5a479a25ee32b",class:"yeti-accordion"},t("slot",{key:"e80295df949218637cbb4cd01c6efe65cbe35ab1"}))}get el(){return i(this)}static get watchers(){return{openIndex:["handleOpenIndexChange"]}}};export{n as yeti_accordion};
//# sourceMappingURL=p-e362c402.entry.js.map