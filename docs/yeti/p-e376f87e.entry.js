import{r as t,c as e,h as s,g as i}from"./p-f504dd71.js";import{u as a}from"./p-5f7a1b51.js";const l=class{constructor(s){t(this,s),this.paginationUpdated=e(this,"paginationUpdated",7),this.cssClass="",this.htmlId=a.generateUniqueId(),this.records=0,this.showOptions=!0,this.startIndex=0,this.recordsDisplayed=0,this.itemsPerPageOptions=[10,25,50,100,"All"],this.selectedItemsPerPageOptionIndex=0,this.selectedPage=1,this.pages=1}watchRecordsHandler(){this.updatePages(),this.updateIndices()}watchRecordsDisplayed(){this.paginationUpdated.emit({currentPage:this.selectedPage-1,recordsDisplayed:this.recordsDisplayed})}parseOptionElements(t){let e=[];for(let s=0;s<t.length;s++){let i=t.item(s);if("yeti-table-pagination-option"==i.tagName.toLowerCase())if(i.attributes&&i.attributes.all)e.push("All");else{let t=parseInt(i.innerHTML);Number.isNaN(t)?console.warn(`Ignoring <yeti-table-pagination-option> with invalid value "${i.innerHTML}". Numbers only please.`):e.push(t)}}e.length>0&&(this.itemsPerPageOptions=e);for(let e=t.length-1;e>=0;--e)t.item(e).remove()}getItemsPerPageOption(){return this.itemsPerPageOptions[this.selectedItemsPerPageOptionIndex]}updateIndices(){let t=this.getItemsPerPageOption();this.startIndex="All"==t||t>this.records?0:(this.selectedPage-1)*t,this.recordsDisplayed="All"==t||t>this.records?this.records:Math.min(this.records-this.startIndex,t)}updatePages(){let t=this.getItemsPerPageOption();t="All"==t?1:Math.ceil(this.records/t),this.pages=t}handleItemsPerPageChange(t){this.selectedItemsPerPageOptionIndex=t.target.selectedIndex,this.selectedPage=1,this.updatePages(),this.updateIndices(),t.preventDefault(),this.paginationUpdated.emit({currentPage:this.selectedPage-1,recordsDisplayed:this.recordsDisplayed})}handlePageSelectChange(t){this.selectedPage=parseInt(t.target.value),this.updateIndices(),t.preventDefault(),this.paginationUpdated.emit({currentPage:this.selectedPage-1,recordsDisplayed:this.recordsDisplayed})}handlePreviousPageButtonClick(t){this.selectedPage=Math.max(1,this.selectedPage-1),this.updateIndices(),t.preventDefault(),this.paginationUpdated.emit({currentPage:this.selectedPage-1,recordsDisplayed:this.recordsDisplayed})}handleNextPageButtonClick(t){this.selectedPage=Math.min(this.pages,this.selectedPage+1),this.updateIndices(),t.preventDefault(),this.paginationUpdated.emit({currentPage:this.selectedPage-1,recordsDisplayed:this.recordsDisplayed})}componentWillLoad(){let t=this.el.children;t.length>0&&this.parseOptionElements(t)}render(){let t="yeti-table-pagination";return""!=this.cssClass&&(t+=" "+this.cssClass),s("nav",{class:t,"aria-label":"Table Pagination"},this.showOptions?s("div",{class:"yeti-table-pagination-items_per_page"},s("label",{htmlFor:"demo-items_per_page",class:"yeti-table-pagination-items_per_page-label"},"Items per page:"),s("select",{id:"demo-items_per_page",class:"yeti-select yeti-table-pagination-items_per_page-select",onChange:t=>{this.handleItemsPerPageChange(t)}},this.itemsPerPageOptions.map((t=>s("option",{value:t,class:"yeti-table-pagination-items_per_page-select-option"},t)))),s("span",{class:"yeti-table-pagination-items_per_page-count"},"All"==this.getItemsPerPageOption()||0==this.records?"":this.startIndex+1+" to "+(this.startIndex+this.recordsDisplayed)+" of ",this.records," item",1==this.records?"":"s")):"",this.records>0?s("div",{class:"yeti-table-pagination-pages"},s("label",{htmlFor:"demo-pages",class:"yeti-a11y-hidden"},"Page number, of ",this.pages," page",1==this.pages?"":"s"),s("select",{id:"demo-pages",class:"yeti-select yeti-table-pagination-pages-select",onChange:t=>{this.handlePageSelectChange(t)}},(()=>{let t=[];for(let e=1;e<=this.pages;e++)t.push(s("option",Object.assign({value:e,class:"yeti-table-pagination-pages-select-page"},e==this.selectedPage&&{selected:!0}),e));return t})()),s("span",{class:"yeti-table-pagination-pages-of_pages","aria-hidden":"true"},"of ",this.pages," page",1==this.pages?"":"s"),s("ul",{class:"yeti-table-pagination-pages-buttons"},s("li",{class:"yeti-table-pagination-pages-buttons-action"},s("button",Object.assign({class:"yeti-table-pagination-pages-buttons-button",onClick:t=>{this.handlePreviousPageButtonClick(t)}},1==this.selectedPage&&{disabled:!0}),s("span",{class:"material-icons","aria-hidden":"true"},"arrow_left"),s("span",{class:"yeti-a11y-hidden"},"Previous page"))),s("li",{class:"yeti-table-pagination-pages-buttons-action"},s("button",Object.assign({class:"yeti-table-pagination-pages-buttons-button",onClick:t=>{this.handleNextPageButtonClick(t)}},this.selectedPage==this.pages&&{disabled:!0}),s("span",{class:"material-icons","aria-hidden":"true"},"arrow_right"),s("span",{class:"yeti-a11y-hidden"},"Next page"))))):"")}componentDidRender(){}get el(){return i(this)}static get watchers(){return{records:["watchRecordsHandler"],recordsDisplayed:["watchRecordsDisplayed"]}}};export{l as yeti_table_pagination}