{"version":3,"names":["YetiIcon","utils","generateUniqueId","render","iconCSS","styleModifier","this","iconStyle","h","Object","assign","key","class","tabindex","alt","iconCode","YetiTooltip","handleSlotHover","clickToOpen","scrollTooltipIntoView","handleSlotFocus","handleDeFocusingClick","isClickedOpen","handleClick","e","stopImmediatePropagation","handleTriggerClick","preventDefault","handleTriggerKeyUp","handleCloseTooltipClick","actual","el","querySelector","scrollIntoView","behavior","block","componentWillLoad","componentId","getAttribute","setAttribute","tipId","slotId","wrapperCSS","tipClass","tooltipCSS","position","onClick","onKeyUp","id","text","componentDidRender","slot","firstElementChild"],"sources":["src/components/yeti-icon/yeti-icon.tsx","src/components/yeti-tooltip/yeti-tooltip.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-icon',\r\n  shadow: false,\r\n})\r\nexport class YetiIcon {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * The type of icon. Corresponds to the analogous \"code\" Google uses (i.e. check_circle).\r\n   */\r\n  @Prop({ attribute: 'type'}) iconCode: string = 'check_circle';\r\n\r\n  /**\r\n   * The type of icon. Corresponds to the analogous \"code\" Google uses (i.e. check_circle).\r\n   */\r\n  @Prop() iconStyle: string = '';\r\n\r\n  /**\r\n   * CSS classlist applied to the actual element producing the icon.\r\n   */\r\n  @Prop({ attribute: 'icon-css'}) iconCSS?: string = '';\r\n\r\n  /**\r\n   * id of the actual element producing the icon. Set to a unique id if one is not provided.\r\n   */\r\n  @Prop() iconId?: string = utils.generateUniqueId();\r\n\r\n  /**\r\n   * Optional replacement text to use as a more clear description of the icon for screen-reader users. Otherwise AT will announce the Google \"code\" (i.e. check_circle).\r\n   */\r\n  @Prop() alt?: string = \"\";\r\n\r\n  /**\r\n   * Whether the icon can gain focus (used primarily for tooltip anchors).\r\n   */\r\n  @Prop() focusable?: boolean = false;\r\n\r\n  /**\r\n   * Used to toggle a re-render of the icon.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let iconCSS = 'material-icons';\r\n    let styleModifier = '';\r\n\r\n    switch (this.iconStyle) {\r\n      \r\n      case 'outlined':\r\n        styleModifier = '-outlined';\r\n\r\n      case '':\r\n      default: {\r\n        break;\r\n      }\r\n    }\r\n\r\n    iconCSS += styleModifier;\r\n\r\n    iconCSS += (this.iconCSS != '') ? ` ${this.iconCSS}` : '';\r\n\r\n    return (\r\n\r\n        // <span class=\"yeti-icon-wrapper\" {...((this.focusable) ? {\"tabindex\": 0} : {})}>\r\n        [\r\n            \r\n            <span \r\n              class={iconCSS}\r\n              {...((this.focusable) ? {\"tabindex\": \"0\"} : {})}\r\n              {...((this.alt != \"\") ? {\"aria-hidden\": true} : {})}>{this.iconCode}</span>,\r\n            \r\n            (this.alt != \"\") ? <span class=\"yeti-a11y-hidden\">{this.alt}</span> : \"\"\r\n          \r\n        ]\r\n        //</span>\r\n\r\n    );\r\n  }\r\n\r\n}","import { Component, Prop, h, State, Element, Listen } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-tooltip',\r\n  shadow: false,\r\n})\r\nexport class YetiTooltip {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * CSS classlist to add to the element serving as the component's wrapper.\r\n   */\r\n  @Prop({ attribute: 'wrapper-class'}) wrapperCSS: string = '';\r\n\r\n  /**\r\n   * CSS classlist to add to the actual tooltip element.\r\n   */\r\n  @Prop({ attribute: 'tooltip-class'}) tooltipCSS: string = '';\r\n\r\n  /**\r\n   * Text value to display as the tooltip's contents.\r\n   */\r\n  @Prop() text: string = \"I'm a helpful tooltip.\";\r\n\r\n  /**\r\n   * Token list to describe the tooltip's position relative to its anchor: left | right and/or above | below.\r\n   */\r\n  @Prop() position: string = \"above\";\r\n\r\n  /**\r\n   * Token list to describe the tooltip's position relative to its anchor: left | right and/or above | below.\r\n   */\r\n  @Prop() clickToOpen: boolean = false;\r\n\r\n  /**\r\n   * id of the component's slot element.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) slotId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * id of the component's actual element corresponding to the tooltip. Will be auto-populated with a unique value if not provided.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) tipId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * Whether the anchor should be forced to be a CSS display block style or left as is.\r\n   */\r\n  @Prop() blockAnchor: boolean = false;\r\n\r\n  /**\r\n   * Whether the tooltip should remain open permanently.\r\n   */\r\n  @Prop() forceOpen: boolean = false;\r\n\r\n  /**\r\n   * Toggle to force a re-render of the whole component.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n  /**\r\n   * Whether the tooltip has been clicked open or not.\r\n   */\r\n  @State() isClickedOpen: boolean = false;\r\n\r\n\r\n\r\n  @Listen('mouseover')\r\n  handleSlotHover() {\r\n    if (!this.clickToOpen) {\r\n      this.scrollTooltipIntoView();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  @Listen('focusin')\r\n  handleSlotFocus() {\r\n    if (!this.clickToOpen) {\r\n      this.scrollTooltipIntoView();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  @Listen('click', {\r\n    target: 'body'\r\n  })\r\n  handleDeFocusingClick() {\r\n    this.isClickedOpen = false;\r\n  }\r\n\r\n\r\n\r\n  @Listen('click')\r\n  handleClick(e) {\r\n    e.stopImmediatePropagation(); // Intercept the click event before it gets to the body-level handler\r\n  }\r\n\r\n  \r\n\r\n  handleTriggerClick(e) {\r\n    if (this.clickToOpen) {\r\n      this.isClickedOpen = !this.isClickedOpen;\r\n      e.stopImmediatePropagation();\r\n      e.preventDefault();\r\n      this.scrollTooltipIntoView();\r\n      return false;\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  handleTriggerKeyUp(e) {\r\n    if (this.clickToOpen && e.key == \"Enter\") {\r\n      this.handleTriggerClick(e);\r\n    }\r\n  }\r\n\r\n\r\n\r\n  handleCloseTooltipClick(e) {\r\n    this.isClickedOpen = false;\r\n    e.stopImmediatePropagation();\r\n    e.preventDefault();\r\n  }\r\n\r\n\r\n\r\n  scrollTooltipIntoView() {\r\n    let actual = this.el.querySelector(\".yeti-tooltip\");\r\n    actual.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"nearest\"\r\n    });\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n    // Set up ids\r\n    let componentId = this.el.getAttribute(\"id\");\r\n\r\n    if (!componentId || componentId == \"\") {\r\n      componentId = utils.generateUniqueId();\r\n      this.el.setAttribute(\"id\", componentId);\r\n    }\r\n\r\n    this.tipId = (this.tipId != \"\") ? this.tipId : `${componentId}_tip`;\r\n    this.slotId = (this.slotId != \"\") ? this.slotId : `${componentId}_slot`;\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let wrapperCSS = 'yeti-tooltip-wrapper';\r\n    let tipClass = 'yeti-tooltip';\r\n\r\n    wrapperCSS += (this.wrapperCSS != '') ? ` ${this.wrapperCSS}` : '';\r\n    tipClass += (this.tooltipCSS != '') ? ` ${this.tooltipCSS}` : '';\r\n\r\n    tipClass += (this.isClickedOpen) ? ' yeti-tooltip__clicked_open' : '';\r\n\r\n    tipClass += (this.forceOpen) ? ' yeti-tooltip__forced_open' : '';\r\n\r\n    wrapperCSS += (this.clickToOpen) ? ' yeti-tooltip-wrapper-is_click_to_open' : '';\r\n    wrapperCSS += (this.blockAnchor) ? ' yeti-tooltip-wrapper-has_block_anchor' : '';\r\n\r\n    switch (this.position) {\r\n\r\n      case \"right\":\r\n\r\n        tipClass += \" yeti-tooltip-right\";\r\n        break;\r\n\r\n      case \"below\":\r\n\r\n        tipClass += \" yeti-tooltip-below\";\r\n        break;\r\n\r\n      case \"left\":\r\n\r\n        tipClass += \" yeti-tooltip-left\";\r\n        break;\r\n\r\n      case \"below-left\":\r\n\r\n        tipClass += \" yeti-tooltip-below-left\";\r\n        break;\r\n\r\n      case \"below-right\":\r\n\r\n        tipClass += \" yeti-tooltip-below-right\";\r\n        break;\r\n\r\n      case \"above-left\":\r\n\r\n        tipClass += \" yeti-tooltip-above-left\";\r\n        break;\r\n\r\n      case \"above-right\":\r\n\r\n        tipClass += \" yeti-tooltip-above-right\";\r\n        break;\r\n\r\n    }\r\n\r\n    return ([\r\n      <div class={wrapperCSS}>\r\n\r\n      <div \r\n        class=\"yeti-tooltip-trigger\" \r\n        onClick={(e) => this.handleTriggerClick(e)}\r\n        onKeyUp={(e) => this.handleTriggerKeyUp(e)}\r\n        {...((this.clickToOpen) ? { \"tabindex\": 0 } : {})}  \r\n      >\r\n\r\n        <slot />\r\n\r\n      </div>\r\n\r\n        <div class={tipClass}>\r\n\r\n          <div class=\"yeti-tooltip-content\" id={this.tipId}>{this.text}</div>\r\n\r\n          {\r\n            (this.clickToOpen && this.isClickedOpen) ?\r\n\r\n              <button class=\"yeti-tooltip-close\" onClick={(e) => { this.handleCloseTooltipClick(e); }}>\r\n                <yeti-icon iconCode=\"close\" iconCSS='yeti-color-white yeti-typo-size-5'></yeti-icon>\r\n              </button>\r\n\r\n            :\r\n              null\r\n          }\r\n          \r\n        </div>\r\n\r\n      </div>\r\n    ]);\r\n  }\r\n\r\n\r\n\r\n  componentDidRender() {\r\n    let slot = this.el.querySelector(\".yeti-tooltip-trigger\").firstElementChild;\r\n    //slot.setAttribute(\"tabindex\", \"0\");\r\n    slot.setAttribute(\"aria-describedby\",this.tipId);\r\n  }\r\n\r\n}\r\n"],"mappings":"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"}