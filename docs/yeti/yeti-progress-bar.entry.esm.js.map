{"version":3,"file":"yeti-progress-bar.entry.esm.js","sources":["src/components/yeti-progress-bar/yeti-progress-bar.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Watch } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-progress-bar',\r\n  shadow: false,\r\n})\r\nexport class YetiProgressBar {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * CSS classlist to add to the component's outer wrapper element.\r\n   */\r\n  @Prop() wrapperClass: string = '';\r\n\r\n  /**\r\n   * CSS classlist to add to the component's actual label element.\r\n   */\r\n  @Prop() labelClass: string = '';\r\n\r\n  /**\r\n   * CSS classlist to add to the element representing the component's progress bar.\r\n   */\r\n  @Prop() barClass: string = '';\r\n\r\n  /**\r\n   * id of the element representing the component's progress bar. Will be given an auto-generated unique id if one is not provided.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) barId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * Number between 0 and 100 that describes the percentage complete to display in the bar.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) progress: number = 0;\r\n  @Watch('progress')\r\n  handleProgressChange(newValue: number) {\r\n    if (isNaN(newValue) || newValue < 0 || newValue > 100) {\r\n      console.warn(\"Error in progress bar. Progress must be a number between 0 and 100.\");\r\n      this.progress = 0;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Text content for the component's label.\r\n   */\r\n  @Prop() label: string = \"\";\r\n\r\n  /**\r\n   * Text content for the component's tooltip.\r\n   */\r\n  @Prop() tooltipText: string = \"\";\r\n\r\n  /**\r\n   * Token list describing the component's tooltip's position relative to the bar: left | right and/or above | below.\r\n   */\r\n  @Prop() tooltipPosition: string = \"\";\r\n\r\n  /**\r\n   * Text content that appears beneath the bar as helper text.\r\n   */\r\n  @Prop() helperText: string = \"\";\r\n\r\n  /**\r\n   * Whether or not the bar should depict an error state.\r\n   */\r\n  @Prop() error: boolean = false;\r\n\r\n  /**\r\n   * Toggle to re-render the entire component.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n\r\n\r\n  renderIcon() {\r\n    let state = \"\";\r\n    \r\n    if (this.error) {\r\n      state = \r\n      \r\n        <div class=\"yeti-progress_bar-state\">\r\n\r\n          <span class=\"material-icons yeti-progress_bar-state-icon\">error</span>\r\n\r\n        </div>;\r\n\r\n    }\r\n\r\n    if (this.progress == 100) {\r\n      state = \r\n      \r\n        <div class=\"yeti-progress_bar-state\">\r\n\r\n          <span class=\"material-icons yeti-progress_bar-state-icon\" aria-hidden=\"true\">check_circle</span>\r\n          <span class=\"yeti-a11y-hidden\">Finished</span>\r\n\r\n        </div>;\r\n\r\n    }\r\n\r\n    return state;\r\n\r\n  }\r\n\r\n\r\n\r\n  renderLabel(labelClass: string) {\r\n    let state = \"\";\r\n    let tooltipId = `${this.el.getAttribute(\"id\")}_tooltip`;\r\n    \r\n    if (this.tooltipText != \"\" && this.tooltipPosition != \"below\") {\r\n      \r\n      state = <yeti-tooltip text={this.tooltipText} id={tooltipId}>\r\n        <div class={labelClass} tabIndex={0}>{this.label} <span class=\"yeti-a11y-hidden\">{this.progress}%</span></div>\r\n      </yeti-tooltip>;\r\n\r\n    } else {\r\n\r\n      state = <div class={labelClass}>{this.label} <span class=\"yeti-a11y-hidden\">{this.progress}%</span></div>;\r\n\r\n    }\r\n\r\n    return state;\r\n\r\n  }\r\n\r\n\r\n\r\n  renderProgressBar(wrapperClass, labelClass, barClass, actualStyle) {\r\n      let progressBar =\r\n\r\n        <div \r\n          class={wrapperClass}\r\n          id={this.barId}\r\n          {...((this.tooltipText != \"\" && this.tooltipPosition == \"below\") ? {tabIndex: 0} : {})}>\r\n\r\n          <div class=\"yeti-progress_bar-header\">\r\n            \r\n            {this.renderLabel(labelClass)}\r\n\r\n            {this.renderIcon()}\r\n\r\n          </div>\r\n\r\n          <div class={barClass} aria-hidden=\"true\">\r\n              <div class=\"yeti-progress_bar-bar-actual\" style={actualStyle}></div>\r\n          </div>\r\n\r\n          {(this.helperText != \"\") ?\r\n          \r\n            <div class=\"yeti-progress_bar-tip\">{this.helperText}</div>\r\n\r\n          : \r\n            \r\n            \"\"\r\n\r\n          }\r\n\r\n        </div>\r\n\r\n      return progressBar;\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n\r\n    // Set up ids\r\n    let componentId = this.el.getAttribute(\"id\");\r\n\r\n    if (!componentId || componentId == \"\") {\r\n      componentId = utils.generateUniqueId();\r\n      this.el.setAttribute(\"id\", componentId);\r\n    }\r\n\r\n    this.barId = (this.barId != \"\") ? this.barId : `${componentId}_bar`;\r\n\r\n    this.handleProgressChange(this.progress);\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let wrapperClass = 'yeti-progress_bar';\r\n    let labelClass = 'yeti-progress_bar-label';\r\n    let barClass = 'yeti-progress_bar-bar';\r\n    let tooltipId = `${this.el.getAttribute(\"id\")}_tooltip`;\r\n\r\n    wrapperClass += (this.progress == 100) ? \" yeti-progress_bar__complete\" : \"\";\r\n    wrapperClass += (this.error) ? \" yeti-progress_bar__error\" : \"\";\r\n\r\n    wrapperClass += (this.wrapperClass && this.wrapperClass != \"\") ? \" \" + this.wrapperClass : \"\";\r\n    labelClass += (this.labelClass && this.labelClass != \"\") ? \" \" + this.labelClass : \"\";\r\n    barClass += (this.barClass && this.barClass != \"\") ? \" \" + this.barClass : \"\";\r\n\r\n    let actualStyle = {\r\n        width: `${this.progress}%`\r\n    };\r\n\r\n    return (\r\n\r\n      (this.tooltipText != \"\" && this.tooltipPosition == \"below\") ?\r\n\r\n        <yeti-tooltip \r\n          text={this.tooltipText} \r\n          position={this.tooltipPosition}\r\n          id={tooltipId}\r\n          blockAnchor={true}>\r\n            \r\n            {this.renderProgressBar(wrapperClass, labelClass, barClass, actualStyle)}\r\n            \r\n        </yeti-tooltip>\r\n      \r\n      :\r\n        \r\n        this.renderProgressBar(wrapperClass, labelClass, barClass, actualStyle)\r\n\r\n    );\r\n  }\r\n\r\n}"],"names":[],"mappings":"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"}