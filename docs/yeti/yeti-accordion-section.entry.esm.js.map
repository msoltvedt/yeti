{"version":3,"file":"yeti-accordion-section.entry.esm.js","sources":["src/components/yeti-accordion-section/yeti-accordion-section.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Event, EventEmitter } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-accordion-section',\r\n  shadow: false,\r\n})\r\nexport class YetiAccordionSection {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  @Event() accordionActionClick: EventEmitter;\r\n\r\n  @Event() accordionSectionHeaderClick: EventEmitter;\r\n\r\n  /**\r\n   * The descriptive text that appears in the heading bar above the content.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) heading: string = 'Heading';\r\n\r\n  /**\r\n   * Whether or not to automatically number the section headings\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) isNumbered: boolean = true;\r\n\r\n  /**\r\n   * The 0-based index of this section relative to its peers. This should only be set by the parent Accordion component.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) index: number = 0;\r\n\r\n  /**\r\n   * The total number of sections the parent Accordion has. Should only be set by the parent.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) of: number = 1;\r\n\r\n  /**\r\n   * Whether the panel is open or not.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) isOpen: boolean = (this.index == 0);\r\n\r\n  /**\r\n   * Whether the panel is openable or not.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) isOpenable: boolean = (this.index == 0);\r\n\r\n  /**\r\n   * Whether the panel is a step in a wizard or not. This should be set by the parent Accordion component.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) isInWizard: boolean = false;\r\n\r\n  /**\r\n   * Whether the consumer supplied buttons or not. Let the component set this.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) hasActions: boolean = false;\r\n\r\n  /**\r\n   * The panel's status: can be \"success\", \"error\", \"reachable\", or \"undefined\".\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) status: string = \"undefined\";\r\n\r\n  /**\r\n   * The heading button's HTML id.\r\n   */\r\n  @Prop() headingId: string = utils.generateUniqueId();\r\n\r\n  /**\r\n   * The section's HTML id.\r\n   */\r\n  @Prop() sectionId: string = utils.generateUniqueId();\r\n\r\n  /**\r\n   * Used to toggle a re-render of the icon.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n\r\n\r\n  handleSectionClick(e) {\r\n    e.preventDefault();\r\n    e.stopImmediatePropagation();\r\n    this.accordionSectionHeaderClick.emit({\r\n      \"originalEvent\": e,\r\n      \"section\": this.el,\r\n      \"sectionIndex\": this.index,\r\n      \"sectionStatus\": this.status,\r\n      \"isOpen\": this.isOpen\r\n    });\r\n  }\r\n\r\n\r\n\r\n  handleActionClick(e, actionType) {\r\n    e.preventDefault();\r\n    e.stopPropagation();\r\n    this.accordionActionClick.emit({\r\n      \"originalEvent\": e,\r\n      \"section\": this.el,\r\n      \"sectionIndex\": this.index,\r\n      \"sectionStatus\": this.status,\r\n      \"actionType\": actionType\r\n    });\r\n  }\r\n\r\n\r\n\r\n  renderStatusIcon() {\r\n    switch (this.status) {\r\n\r\n      case \"success\": {\r\n        return <yeti-icon iconCode='check_circle' alt='complete' iconClass='yeti-accordion-section-status_icon yeti-accordion-section-status_icon-success'></yeti-icon>\r\n      }\r\n\r\n      case \"error\": {\r\n        return <yeti-icon iconCode='error' alt='error' iconClass='yeti-accordion-section-status_icon yeti-accordion-section-status_icon-error'></yeti-icon>\r\n      }\r\n\r\n      default: return \"\";\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  renderActions() {\r\n    // Render the action buttons for a section.\r\n\r\n    // Use the user's content if provided...\r\n    if (this.hasActions) {\r\n\r\n      return <slot name=\"actions\"></slot>\r\n\r\n    // ...otherwise automatically create our own.\r\n    } else {\r\n\r\n      let actions = [];\r\n\r\n      // Previous\r\n      if (this.index != 0) {\r\n        actions.push(\r\n          \r\n          <li>\r\n            <button \r\n              class=\"yeti-button yeti-button-secondary yeti-button-size-s\" \r\n              onClick={(e) => {this.handleActionClick(e, \"previous\")}}\r\n            >\r\n              <yeti-icon iconCode='navigate_before' alt=\"\" iconClass='yeti-accordion-action-button-icon' />Previous\r\n            </button>\r\n          </li>\r\n\r\n        );\r\n      }\r\n      \r\n      // Next\r\n      if (this.index  <  this.of - 1) {\r\n        actions.push(\r\n          \r\n          <li>\r\n            <button \r\n              class=\"yeti-button yeti-button-primary yeti-button-size-s\" \r\n              onClick={(e) => {this.handleActionClick(e, \"next\")}}\r\n              {...((this.isInWizard && this.status != \"success\") ? {\"disabled\": true, \"tabIndex\": -1} : {})}\r\n            >\r\n              Next<yeti-icon iconCode='navigate_next' alt=\"\" iconClass='yeti-accordion-action-button-icon' />\r\n            </button>\r\n          </li>\r\n\r\n        );\r\n      }\r\n\r\n      // Cancel\r\n      actions.push(\r\n        <li><button class=\"yeti-button yeti-button-ghost yeti-button-size-s\" onClick={(e) => {this.handleActionClick(e, \"cancel\")}}>Cancel</button></li>\r\n      );\r\n\r\n\r\n      return <ul class=\"yeti-button-group\">{actions}</ul>;\r\n      \r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n    \r\n    let potentialActionsSlot = this.el.querySelector('[slot=\"actions\"]');\r\n\r\n    // User supplied actions, see if they marked them with an accordion-action attribute.\r\n    if (potentialActionsSlot) {\r\n      let elementsTaggedAsActions = potentialActionsSlot.querySelectorAll('[accordion-action]');\r\n      this.hasActions = true;\r\n\r\n      elementsTaggedAsActions.forEach((element) => {\r\n        element.addEventListener(\"click\", (e) => {\r\n          this.handleActionClick(e, element.getAttribute(\"accordion-action\"));\r\n        });\r\n      });\r\n\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    let wrapperCSS = 'yeti-accordion-section';\r\n\r\n    wrapperCSS += (this.isOpenable) ? ' yeti-accordion-section-openable' : '';\r\n    wrapperCSS += (this.isOpen) ? ' yeti-accordion-section__open' : '';\r\n\r\n    return (\r\n\r\n        <div class={wrapperCSS}>\r\n\r\n          <button \r\n            id={this.headingId}\r\n            class=\"yeti-accordion-section-heading\"\r\n            onClick={(e) => { this.handleSectionClick(e); }}\r\n            aria-expanded={`${this.isOpen}`}\r\n            aria-controls={this.sectionId}\r\n            {...(!this.isOpenable ? {\"disabled\": true, \"tabIndex\": -1} : {})}\r\n          >\r\n\r\n            <div class='yeti-accordion-section-heading-contents'>\r\n\r\n              {(this.isOpen) ?\r\n              \r\n                <yeti-icon iconCode='expand_less' alt='' iconClass='yeti-accordion-section-heading-caret'></yeti-icon>\r\n\r\n              :\r\n\r\n                <yeti-icon iconCode='expand_more' alt='' iconClass='yeti-accordion-section-heading-caret'></yeti-icon>\r\n\r\n              }\r\n\r\n              \r\n              <div class=\"yeti-accordion-section-heading-actual\">\r\n\r\n                {(this.isNumbered) ? (this.index + 1) : \"\"} {this.heading}\r\n                \r\n              </div>\r\n\r\n\r\n              {this.renderStatusIcon()}\r\n\r\n\r\n            </div>\r\n\r\n          </button>\r\n\r\n          \r\n          <div \r\n            id={this.sectionId}\r\n            class=\"yeti-accordion-section-content\"\r\n            role=\"region\"\r\n            aria-labelledby={this.headingId}\r\n          >\r\n\r\n            <slot name=\"content\" />\r\n\r\n          </div>\r\n\r\n\r\n          <div class=\"yeti-accordion-section-actions\">\r\n\r\n            {this.renderActions()}\r\n          \r\n          </div>\r\n\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n\r\n}"],"names":[],"mappings":"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"}