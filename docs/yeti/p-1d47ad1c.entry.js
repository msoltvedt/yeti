import{r as t,c as i,h as s,g as e}from"./p-CXCfC6Yi.js";import{u as h}from"./p-CClhr1ni.js";const a=class{constructor(s){t(this,s);this.readyToVerifySlow=i(this,"readyToVerifySlow");this.readyToVerifyFast=i(this,"readyToVerifyFast");this.textareaClass="";this.wrapperClass="";this.isDisabled=false;this.autocomplete="";this.textareaId=h.generateUniqueId();this.textareaName=this.textareaId;this.maxlength=1e5;this.required=false;this.isValid=true;this.value="";this.textareaTabindex="";this.labeledBy="";this.describedBy="";this.description="";this.characterCounterId="";this.isTouched=false;this.length=0;this.usesCharacterCounter=false}handleKeyDown(){}handleKeyUp(t){this.isTouched=true;this.value=t.target.value;this.length=this.value.length;this.conformValueToMaxlength();this.readyToVerifyFast.emit({originalEvent:t,yetiTextarea:this.el,value:t.target.value});if(this.usesCharacterCounter){this.updateCharacterCounter()}}handleFieldBlur(t){t.stopImmediatePropagation();this.isTouched=true;this.value=t.target.value;this.readyToVerifySlow.emit({originalEvent:t,yetiTextarea:this.el,value:t.target.value})}conformValueToMaxlength(){if(this.value.length>this.maxlength){this.value=this.value.substring(0,this.maxlength);this.length=this.maxlength}}updateCharacterCounter(){if(this.usesCharacterCounter){this.characterCounter.innerHTML=`${this.maxlength-this.length}/${this.maxlength} <span class='yeti-a11y-invisible'>characters remaining</span>`}}componentWillLoad(){this.length=this.value.length;this.conformValueToMaxlength()}componentDidLoad(){this.conformValueToMaxlength();try{if(this.characterCounterId!=""){this.characterCounter=document.getElementById(this.characterCounterId);this.usesCharacterCounter=true;this.updateCharacterCounter();this.describedBy+=` ${this.characterCounterId}`}}catch(t){console.warn(`Yeti Textarea was unable to set a character counter element with the supplied id of ${this.characterCounterId}.`,t)}}render(){let t="yeti-textarea";let i="yeti-textarea-wrapper";if(this.textareaClass!=""){t+=" "+this.textareaClass}if(this.wrapperClass!=""){i+=" "+this.wrapperClass}if(this.isValid==false){t+=" yeti-textarea__error"}return s("div",{key:"51213ba0298cbe9e9c3a59f16f2525798d4c83ad",class:i},s("textarea",Object.assign({key:"e2e264205ef9b468f4025f1a4b35e03020497d76",class:t,id:this.textareaId,name:this.textareaName,value:this.value,onKeyDown:()=>this.handleKeyDown(),onKeyUp:t=>this.handleKeyUp(t),onBlur:t=>this.handleFieldBlur(t),"aria-invalid":!this.isValid},this.isDisabled?{disabled:this.isDisabled}:{},this.autocomplete!=""?{autocomplete:this.autocomplete}:{},this.textareaTabindex!=""?{tabindex:this.textareaTabindex}:{},this.labeledBy!=""?{"aria-labelledby":this.labeledBy}:{},this.describedBy!=""?{"aria-describedby":this.describedBy}:{},this.description!=""?{"aria-description":this.description}:{},this.maxlength!=1e5?{maxlength:this.maxlength}:{}),this.value))}get el(){return e(this)}};export{a as yeti_textarea};
//# sourceMappingURL=p-1d47ad1c.entry.js.map