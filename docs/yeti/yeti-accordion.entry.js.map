{"file":"yeti-accordion.entry.esm.js","mappings":"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","names":[],"sources":["src/components/yeti-accordion/yeti-accordion.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Watch, Listen } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-accordion',\r\n  shadow: false,\r\n})\r\nexport class YetiAccordion {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * The 0-based index of the open section.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) openIndex: number = 0;\r\n \r\n  @Watch(\"openIndex\")\r\n  handleOpenIndexChange(newSectionIndex: number) {\r\n    this.openSection(newSectionIndex);\r\n  }\r\n\r\n  /**\r\n   * The total number of sections the Accordion has.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) sections: number = 0;\r\n\r\n  /**\r\n   * A list of the Accordion's yeti-accordion-section child elements\r\n   */\r\n  @Prop({\r\n    mutable: true\r\n  }) sectionElements: NodeList = null;\r\n\r\n  /**\r\n   * Whether or not to use wizard mode, in which you can only open one section at a time, and you have to go in order\r\n   */\r\n  @Prop() isWizard: boolean = false;\r\n\r\n  /**\r\n   * Used to toggle a re-render of the icon.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n\r\n\r\n  @Listen('accordionActionClick')\r\n  handleAccordionActionClicked(e) {\r\n\r\n    switch (e.detail.actionType) {\r\n\r\n      case \"previous\": {\r\n        if (e.detail.sectionIndex > 0) {\r\n          this.openSection(parseInt(e.detail.sectionIndex) - 1);\r\n        }\r\n        break;\r\n      }\r\n\r\n      case \"next\": {\r\n        if (e.detail.sectionIndex < this.sections-1 && e.detail.sectionStatus != \"error\") {\r\n          this.openSection(parseInt(e.detail.sectionIndex) + 1);\r\n        }\r\n        break;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  @Listen('accordionSectionHeaderClick')\r\n  handleAccordionSectionHeaderClick(e) {\r\n\r\n    // User clicked on a section heading, toggle this pane's state and set the others accordingly.\r\n    let clickedSection = e.detail.section;\r\n\r\n    // First make sure it's openable\r\n    if (!clickedSection.isOpenable) {\r\n      this.openSection(this.openIndex); // It wasn't, so just open whatever we previously had as the open section.\r\n      return;\r\n    }\r\n\r\n    else {\r\n      if (clickedSection.isOpen) {\r\n        clickedSection.isOpen = false;\r\n      } else {\r\n        this.openSection(e.detail.sectionIndex);\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  openSection(suppliedIndex: number = 0) {\r\n    // Opens the section at suppliedIndex while closing the other sections.\r\n    this.sectionElements.forEach((sectionElements, index) => {\r\n      let section = sectionElements as HTMLElement;\r\n      let sectionHeader = section.querySelector(\".yeti-accordion-section-heading\") as HTMLElement;\r\n      let sectionStatus = section.getAttribute(\"status\");\r\n\r\n      if (index == suppliedIndex) {\r\n        section.setAttribute(\"is-openable\", \"true\");\r\n        section.setAttribute(\"status\", (sectionStatus == \"undefined\" ? \"reachable\" : sectionStatus));\r\n        section.setAttribute(\"is-open\", \"true\");\r\n        this.openIndex = index;\r\n        setTimeout(() => { \r\n          sectionHeader?.focus();\r\n        }, 100);\r\n      } else {\r\n        section.setAttribute(\"is-open\", \"false\");\r\n      }\r\n\r\n      // Set the Openable state\r\n      //section.setAttribute(\"is-openable\", `${ (index <= suppliedIndex)  ||  !this.isWizard }`);\r\n\r\n    });\r\n\r\n    this.openIndex = suppliedIndex;\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n    // Populate the sectionElements array and do some initial set-up.\r\n    this.sectionElements = this.el.querySelectorAll('yeti-accordion-section');\r\n    this.sections = this.sectionElements.length;\r\n\r\n    if (!this.el.hasAttribute(\"id\")) {\r\n      this.el.setAttribute(\"id\", utils.generateUniqueId());\r\n    }\r\n\r\n    if (!this.sectionElements || this.sectionElements.length < 2) {\r\n      console.error(\"Yeti Accordion must have at least two yeti-accordion-section elements.\");\r\n      return;\r\n    }\r\n\r\n    this.sectionElements.forEach((sectionElement, index) => {\r\n\r\n      let section = (sectionElement as HTMLElement);\r\n\r\n      section.setAttribute(\"is-open\", `${(index == this.openIndex)}`);\r\n      section.setAttribute(\"index\", `${index}`);\r\n      section.setAttribute(\"of\", `${this.sectionElements.length}`);\r\n      section.setAttribute(\"is-openable\", `${section.hasAttribute(\"is-openable\") ? section.getAttribute(\"is-openable\") : (index <= this.openIndex)}`);\r\n      section.setAttribute(\"status\", `${section.hasAttribute(\"status\") ? section.getAttribute(\"status\") : (index == this.openIndex) ? \"reachable\" : \"undefined\"}`)\r\n      section.setAttribute(\"is-in-wizard\", `${this.isWizard}`);\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n        <div class=\"yeti-accordion\">\r\n\r\n          <slot />\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n\r\n}"],"version":3}