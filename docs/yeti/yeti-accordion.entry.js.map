{"file":"yeti-accordion.entry.esm.js","mappings":";;;MAOa,aAAa;;;yBAUD,CAAC;wBAQF,CAAC;+BAOQ,IAAI;wBAKP,KAAK;wBAKJ,KAAK;;IAKlC,4BAA4B,CAAC,CAAC;QAE5B,QAAQ,CAAC,CAAC,MAAM,CAAC,UAAU;YAEzB,KAAK,UAAU,EAAE;gBACf,IAAI,CAAC,CAAC,MAAM,CAAC,YAAY,GAAG,CAAC,EAAE;oBAC7B,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;iBACvD;gBACD,MAAM;aACP;YAED,KAAK,MAAM,EAAE;gBACX,IAAI,CAAC,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,QAAQ,GAAC,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,aAAa,IAAI,OAAO,EAAE;oBAChF,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,CAAC;iBACvD;gBACD,MAAM;aACP;SAEF;KACF;IAKD,iCAAiC,CAAC,CAAC;;QAGjC,OAAO,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;;QAGnC,IAAI,CAAC,CAAC,MAAM,CAAC,YAAY,GAAG,IAAI,CAAC,SAAS,IAAI,IAAI,CAAC,QAAQ;eACpD,CAAC,CAAC,MAAM,CAAC,YAAY,IAAI,IAAI,CAAC,SAAS,EAC5C;YACA,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;YACjC,OAAO;SACR;aAEI;YACH,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;SACzC;KAEF;IAID,WAAW,CAAC,gBAAwB,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,eAAe,EAAE,KAAK;YAClD,IAAI,OAAO,GAAG,eAA8B,CAAC;YAC7C,IAAI,aAAa,GAAG,OAAO,CAAC,aAAa,CAAC,iCAAiC,CAAgB,CAAC;YAE5F,IAAI,KAAK,IAAI,aAAa,EAAE;gBAC1B,OAAO,CAAC,YAAY,CAAC,SAAS,EAAE,MAAM,CAAC,CAAC;gBACxC,aAAa,aAAb,aAAa,uBAAb,aAAa,CAAE,KAAK,EAAE,CAAC;gBACvB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;aACxB;iBAEI;gBACH,OAAO,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;aAC1C;SAEF,CAAC,CAAC;QAEH,IAAI,CAAC,SAAS,GAAG,aAAa,CAAC;KAChC;IAID,iBAAiB;;QAEf,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,EAAE,CAAC,gBAAgB,CAAC,wBAAwB,CAAC,CAAC;QAC1E,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;QAE5C,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,EAAE;YAC/B,IAAI,CAAC,EAAE,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,CAAC,gBAAgB,EAAE,CAAC,CAAC;SACtD;QAED,IAAI,CAAC,IAAI,CAAC,eAAe,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5D,OAAO,CAAC,KAAK,CAAC,wEAAwE,CAAC,CAAC;YACxF,OAAO;SACR;QAED,IAAI,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,KAAK;YAEjD,IAAI,OAAO,GAAI,cAA8B,CAAC;YAE9C,OAAO,CAAC,YAAY,CAAC,SAAS,EAAE,IAAI,KAAK,IAAI,CAAC,GAAG,CAAC,CAAC;YACnD,OAAO,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,KAAK,EAAE,CAAC,CAAC;YAC1C,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,CAAC;SAE9D,CAAC,CAAC;KAEJ;IAID,MAAM;QAEJ,QAEI,4DAAK,KAAK,EAAC,gBAAgB,IAEzB,8DAAQ,CAEJ,EAER;KACH;;;;;;","names":[],"sources":["src/components/yeti-accordion/yeti-accordion.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Listen } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n\r\n@Component({\r\n  tag: 'yeti-accordion',\r\n  shadow: false,\r\n})\r\nexport class YetiAccordion {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * The 0-based index of the open section.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) openIndex: number = 0;\r\n\r\n  /**\r\n   * The total number of sections the Accordion has.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) sections: number = 0;\r\n\r\n  /**\r\n   * A list of the Accordion's yeti-accordion-section child elements\r\n   */\r\n  @Prop({\r\n    mutable: true\r\n  }) sectionElements: NodeList = null;\r\n\r\n  /**\r\n   * Whether or not to use wizard mode, in which you can only open one section at a time, and you have to go in order\r\n   */\r\n  @Prop() isWizard: boolean = false;\r\n\r\n  /**\r\n   * Used to toggle a re-render of the icon.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n\r\n\r\n  @Listen('accordionActionClick')\r\n  handleAccordionActionClicked(e) {\r\n\r\n    switch (e.detail.actionType) {\r\n\r\n      case \"previous\": {\r\n        if (e.detail.sectionIndex > 0) {\r\n          this.openSection(parseInt(e.detail.sectionIndex) - 1);\r\n        }\r\n        break;\r\n      }\r\n\r\n      case \"next\": {\r\n        if (e.detail.sectionIndex < this.sections-1 && e.detail.sectionStatus != \"error\") {\r\n          this.openSection(parseInt(e.detail.sectionIndex) + 1);\r\n        }\r\n        break;\r\n      }\r\n\r\n    }\r\n  }\r\n\r\n\r\n\r\n  @Listen('accordionSectionHeaderClick')\r\n  handleAccordionSectionHeaderClick(e) {\r\n\r\n    // User clicked on a section heading, toggle this pane's state and set the others accordingly.\r\n    console.log(e.detail.sectionIndex);\r\n\r\n    // First make sure it wasn't a section after this one while in wizard mode or the one that's already open\r\n    if (e.detail.sectionIndex > this.openIndex && this.isWizard\r\n        || e.detail.sectionIndex == this.openIndex\r\n    ) {\r\n      this.openSection(this.openIndex);\r\n      return;\r\n    }\r\n\r\n    else {\r\n      this.openSection(e.detail.sectionIndex);\r\n    }\r\n\r\n  }\r\n\r\n\r\n\r\n  openSection(suppliedIndex: number = 0) {\r\n    this.sectionElements.forEach((sectionElements, index) => {\r\n      let section = sectionElements as HTMLElement;\r\n      let sectionHeader = section.querySelector(\".yeti-accordion-section-heading\") as HTMLElement;\r\n\r\n      if (index == suppliedIndex) {\r\n        section.setAttribute(\"is-open\", \"true\");\r\n        sectionHeader?.focus();\r\n        this.openIndex = index;\r\n      }\r\n\r\n      else {\r\n        section.setAttribute(\"is-open\", \"false\");\r\n      }\r\n\r\n    });\r\n\r\n    this.openIndex = suppliedIndex;\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n    // Populate the sectionElements array and do some initial set-up.\r\n    this.sectionElements = this.el.querySelectorAll('yeti-accordion-section');\r\n    this.sections = this.sectionElements.length;\r\n\r\n    if (!this.el.hasAttribute(\"id\")) {\r\n      this.el.setAttribute(\"id\", utils.generateUniqueId());\r\n    }\r\n\r\n    if (!this.sectionElements || this.sectionElements.length < 2) {\r\n      console.error(\"Yeti Accordion must have at least two yeti-accordion-section elements.\");\r\n      return;\r\n    }\r\n\r\n    this.sectionElements.forEach((sectionElement, index) => {\r\n\r\n      let section = (sectionElement as HTMLElement);\r\n\r\n      section.setAttribute(\"is-open\", `${(index == 0)}`);\r\n      section.setAttribute(\"index\", `${index}`);\r\n      section.setAttribute(\"of\", `${this.sectionElements.length}`);\r\n\r\n    });\r\n\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n\r\n        <div class=\"yeti-accordion\">\r\n\r\n          <slot />\r\n\r\n        </div>\r\n\r\n    );\r\n  }\r\n\r\n}"],"version":3}