{"version":3,"file":"yeti-table-actions.entry.esm.js","sources":["src/components/yeti-table-actions/yeti-table-actions.tsx"],"sourcesContent":["import { Component, Prop, h, Element } from '@stencil/core';\nimport { utils } from '../../utils/utils';\n\n@Component({\n  tag: 'yeti-table-actions',\n  shadow: false,\n})\nexport class YetiTableActions {\n\n  @Element() el: HTMLElement;\n\n  /**\n   * CSS classlist to add to the actual element serving as the component's wrapper.\n   */\n  @Prop() cssClass: string = '';\n\n  /**\n   * id value of the actual element serving as the component's wrapper. Will be auto-generated with a unique value if not provided.\n   */\n  @Prop({\n    mutable: true,\n    reflect: true\n  }) htmlId: string = \"\"; // Set on component load\n\n  /**\n   * Whether or not to use the Yeti Grid system to lay out child options.\n   */\n  @Prop() useGrid: boolean = false;\n\n\n\n  parseTableActionElements() {\n    let actionElementsWithoutGridColumnsSpecified = this.el.querySelectorAll('yeti-table-action:not([grid-columns]), yeti-table-pagination:not([grid-columns])');\n    let actionElementsWithGridColumnsSpecified = this.el.querySelectorAll('[grid-columns]');\n    const numberOfGridColumns = 16;\n    let gridColumnsAvailable = numberOfGridColumns;\n    let genericColumns; // This will eventually be what column span to give actions that didn't specify that.\n\n    // actionElement... is the outer, <yeti-*> wrapper element. Since their parent is the grid container, we need to apply\n    // the grid cell styling directly to this element.\n    \n    // First handle the actions that have a grid-columns attribute.\n    actionElementsWithGridColumnsSpecified.forEach((actionElement) => {\n      \n      let spanAttribute = parseInt(actionElement.getAttribute('grid-columns'));\n      let span = (isNaN(spanAttribute)) ? 1 : spanAttribute;\n      let className = 'yeti-grid-column-' + span;\n      let existingClasses = actionElement.getAttribute(\"class\");\n      existingClasses = (existingClasses) ? existingClasses : '';\n\n      actionElement.setAttribute('class', `${existingClasses} ${className}`);\n      gridColumnsAvailable -= span;\n\n    });\n\n    if (gridColumnsAvailable < actionElementsWithoutGridColumnsSpecified.length) {\n      console.warn('Table actions must use a total of no more than 16 columns.');\n    }\n\n    genericColumns = Math.floor( gridColumnsAvailable / actionElementsWithoutGridColumnsSpecified.length );\n    \n    // Second divvy up the remaining grid columns amongst the actions that don't have a grid-columns attribute.\n    for (let i = 0; i < actionElementsWithoutGridColumnsSpecified.length; i++) {\n      \n      let actionElement = actionElementsWithoutGridColumnsSpecified[i];\n      let isLastElementWithoutColumnsSpecified = ((i+1) == actionElementsWithoutGridColumnsSpecified.length) ? true : false;\n      let span = (isLastElementWithoutColumnsSpecified) ? gridColumnsAvailable : genericColumns;\n      let className = 'yeti-grid-column-' + span;\n      let existingClasses = actionElement.getAttribute(\"class\");\n      existingClasses = (existingClasses) ? existingClasses : '';\n\n      actionElement.setAttribute('class', `${existingClasses} ${className}`);\n      gridColumnsAvailable -= span;\n\n    }\n  }\n\n\n\n  componentWillLoad() {\n    // Set up ids and parse table action HTML elements\n\n    // Set up ids\n    let componentId = this.el.getAttribute(\"id\");\n    let parent = this.el.parentElement;\n    let parentId = (parent && parent.getAttribute(\"id\")) ? parent.getAttribute(\"id\") : utils.generateUniqueId();\n\n    if (!componentId || componentId == \"\") {\n\n      componentId = `${parentId}_actionsComponent`;\n      this.el.setAttribute(\"id\", componentId);\n\n    }\n\n    this.htmlId = (this.htmlId != \"\") ? this.htmlId : `${parentId}_actions`;\n\n    // Parse children \n    this.parseTableActionElements();\n  }\n\n\n\n  render() {\n\n    let cssClasses = 'yeti-table-actions';\n\n    cssClasses += (this.useGrid) ? ' yeti-grid yeti-grid-gapless yeti-grid-gutterless' : '';\n\n    if (this.cssClass != '') {\n      cssClasses += ' ' + this.cssClass;\n    }\n\n    return (\n      <div class={cssClasses} id={this.htmlId}><slot /></div>\n    );\n  }\n\n}\n"],"names":[],"mappings":"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"}