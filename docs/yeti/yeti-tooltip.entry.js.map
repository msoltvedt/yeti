{"file":"yeti-tooltip.entry.esm.js","mappings":"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","names":[],"sources":["src/components/yeti-tooltip/yeti-tooltip.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Listen } from '@stencil/core';\nimport { utils } from '../../utils/utils';\n\n@Component({\n  tag: 'yeti-tooltip',\n  shadow: false,\n})\nexport class YetiTooltip {\n\n  @Element() el: HTMLElement;\n\n  /**\n   * CSS classlist to add to the element serving as the component's wrapper.\n   */\n  @Prop() wrapperClass: string = '';\n\n  /**\n   * CSS classlist to add to the actual tooltip element.\n   */\n  @Prop() tooltipClass: string = '';\n\n  /**\n   * Text value to display as the tooltip's contents.\n   */\n  @Prop() text: string = \"I'm a helpful tooltip.\";\n\n  /**\n   * Token list to describe the tooltip's position relative to its anchor: left | right and/or above | below.\n   */\n  @Prop() position: string = \"above\";\n\n  /**\n   * Boolean value that sets whether the tooltip opens on hover/focus (default) or on click.\n   */\n  @Prop() clickToOpen: boolean = false;\n\n  /**\n   * id of the component's slot element.\n   */\n  @Prop({\n    mutable: true,\n    reflect: true\n  }) slotId: string = \"\"; // Set on load\n\n  /**\n   * id of the component's actual element corresponding to the tooltip. Will be auto-populated with a unique value if not provided.\n   */\n  @Prop({\n    mutable: true,\n    reflect: true\n  }) tipId: string = \"\"; // Set on load\n\n  /**\n   * Whether the anchor should be forced to be a CSS display block style or left as is.\n   */\n  @Prop() blockAnchor: boolean = false;\n\n  /**\n   * Whether the tooltip should remain open permanently.\n   */\n  @Prop() forceOpen: boolean = false;\n\n  /**\n   * Toggle to force a re-render of the whole component.\n   */\n  @State() iLoveJSX: boolean = false;\n\n  /**\n   * Whether the tooltip has been clicked open or not.\n   */\n  @State() isClickedOpen: boolean = false;\n\n  justClickedClosed: boolean = false;\n\n\n  @Listen('mouseover')\n  handleSlotHover() {\n    if (!this.clickToOpen) {\n      this.scrollTooltipIntoView();\n    }\n  }\n\n\n\n  @Listen('focusin')\n  handleSlotFocus() {\n    if (!this.clickToOpen) {\n      this.scrollTooltipIntoView();\n    }\n  }\n\n\n\n  @Listen('click', {\n    target: 'body'\n  })\n  handleDeFocusingClick() {\n    this.isClickedOpen = false;\n  }\n\n\n\n  @Listen('click')\n  handleClick(e) {\n    e.stopImmediatePropagation(); // Intercept the click event before it gets to the body-level handler\n  }\n\n  \n\n  handleTriggerClick(e) {\n    if (this.clickToOpen && !this.justClickedClosed) {\n      e.stopImmediatePropagation();\n      e.preventDefault();\n      this.scrollTooltipIntoView();\n      this.isClickedOpen = !this.isClickedOpen;\n      return false;\n    }\n  }\n\n  \n\n  handleTriggerKeyPress(e) {\n    if (this.clickToOpen && e.key == \"Enter\" && !this.justClickedClosed) {\n      this.handleTriggerClick(e);\n    }\n  }\n\n\n\n  handleCloseTooltipClick(e) {\n    this.justClickedClosed = true;\n    e.stopImmediatePropagation();\n    e.preventDefault();\n    this.isClickedOpen = false;\n  }\n\n\n\n  scrollTooltipIntoView() {\n    let actual = this.el.querySelector(\".yeti-tooltip\");\n    actual.scrollIntoView({\n      behavior: \"smooth\",\n      block: \"nearest\"\n    });\n  }\n\n\n\n  componentWillLoad() {\n    // Set up ids\n    let componentId = this.el.getAttribute(\"id\");\n\n    if (!componentId || componentId == \"\") {\n      componentId = utils.generateUniqueId();\n      this.el.setAttribute(\"id\", componentId);\n    }\n\n    this.tipId = (this.tipId != \"\") ? this.tipId : `${componentId}_tip`;\n    this.slotId = (this.slotId != \"\") ? this.slotId : `${componentId}_slot`;\n  }\n\n\n  render() {\n\n    let wrapperClass = 'yeti-tooltip-wrapper';\n    let tipClass = 'yeti-tooltip';\n\n    wrapperClass += (this.wrapperClass != '') ? ` ${this.wrapperClass}` : '';\n    tipClass += (this.tooltipClass != '') ? ` ${this.tooltipClass}` : '';\n\n    tipClass += (this.isClickedOpen) ? ' yeti-tooltip__clicked_open' : '';\n\n    tipClass += (this.forceOpen) ? ' yeti-tooltip__forced_open' : '';\n\n    wrapperClass += (this.clickToOpen) ? ' yeti-tooltip-wrapper-is_click_to_open' : '';\n    wrapperClass += (this.blockAnchor) ? ' yeti-tooltip-wrapper-has_block_anchor' : '';\n\n    switch (this.position) {\n\n      case \"right\":\n\n        tipClass += \" yeti-tooltip-right\";\n        break;\n\n      case \"below\":\n\n        tipClass += \" yeti-tooltip-below\";\n        break;\n\n      case \"left\":\n\n        tipClass += \" yeti-tooltip-left\";\n        break;\n\n      case \"below-left\":\n\n        tipClass += \" yeti-tooltip-below-left\";\n        break;\n\n      case \"below-right\":\n\n        tipClass += \" yeti-tooltip-below-right\";\n        break;\n\n      case \"above-left\":\n\n        tipClass += \" yeti-tooltip-above-left\";\n        break;\n\n      case \"above-right\":\n\n        tipClass += \" yeti-tooltip-above-right\";\n        break;\n\n    }\n\n    return ([\n      <div class={wrapperClass}>\n\n        <div \n          class=\"yeti-tooltip-trigger\" \n          onClick={(e) => this.handleTriggerClick(e)}\n          onKeyPress={(e) => this.handleTriggerKeyPress(e)}\n          {...((this.clickToOpen) ? { \"tabindex\": 0 } : {})}  \n        >\n\n          <slot />\n\n        </div>\n\n\n        <div class={tipClass}>\n\n          <div class=\"yeti-tooltip-content\" id={this.tipId}>{this.text}</div>\n\n          {\n            (this.clickToOpen && this.isClickedOpen) ?\n\n              <button class=\"yeti-tooltip-close\" onClick={(e) => { this.handleCloseTooltipClick(e); }}>\n                <yeti-icon iconCode=\"close\" iconClass='yeti-color-white yeti-typo-size-5'></yeti-icon>\n              </button>\n\n            :\n              null\n          }\n          \n        </div>\n\n      </div>\n    ]);\n  }\n\n\n\n  componentDidRender() {\n    let slot = this.el.querySelector(\".yeti-tooltip-trigger\").firstElementChild;\n    let trigger = this.el.querySelector(\".yeti-tooltip-trigger\") as HTMLElement;\n    //slot.setAttribute(\"tabindex\", \"0\");\n    slot.setAttribute(\"aria-describedby\",this.tipId);\n\n    if (this.justClickedClosed && trigger) {\n      // The user just clicked the tooltip closed. Restore focus to the trigger.\n      this.justClickedClosed = false;\n      trigger.focus();\n    }\n\n  }\n\n}\n"],"version":3}