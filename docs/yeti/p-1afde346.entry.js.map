{"version":3,"names":["YetiTitleTip","constructor","hostRef","this","wrapperClass","titletipClass","text","position","clickToOpen","slotId","tipId","blockAnchor","forceOpen","iLoveJSX","isClickedOpen","justClickedClosed","handleSlotHover","scrollTitletipIntoView","handleSlotFocus","actual","el","querySelector","scrollIntoView","behavior","block","componentWillLoad","componentId","getAttribute","utils","generateUniqueId","setAttribute","render","tipClass","h","key","class","id","componentDidRender","slot","firstElementChild","trigger","focus"],"sources":["src/components/yeti-titletip/yeti-titletip.tsx"],"sourcesContent":["import { Component, Prop, h, State, Element, Listen } from '@stencil/core';\r\nimport { utils } from '../../utils/utils';\r\n@Component({\r\n  tag: 'yeti-titletip',\r\n  shadow: false,\r\n})\r\nexport class YetiTitleTip {\r\n\r\n  @Element() el: HTMLElement;\r\n\r\n  /**\r\n   * CSS classlist to add to the element serving as the component's wrapper.\r\n   */\r\n  @Prop() wrapperClass: string = '';\r\n\r\n  /**\r\n   * CSS classlist to add to the actual titletip element.\r\n   */\r\n  @Prop() titletipClass: string = '';\r\n\r\n  /**\r\n   * Text value to display as the titletip's contents.\r\n   */\r\n  @Prop() text: string = \"I'm a helpful titletip.\";\r\n\r\n  /**\r\n   * Token list to describe the titletip's position relative to its anchor: left | right and/or above | below.\r\n   */\r\n  @Prop() position: string = \"above\";\r\n\r\n  /**\r\n   * Boolean value that sets whether the titletip opens on hover/focus (default) or on click.\r\n   */\r\n  @Prop() clickToOpen: boolean = false;\r\n\r\n  /**\r\n   * id of the component's slot element.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) slotId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * id of the component's actual element corresponding to the titletip. Will be auto-populated with a unique value if not provided.\r\n   */\r\n  @Prop({\r\n    mutable: true,\r\n    reflect: true\r\n  }) tipId: string = \"\"; // Set on load\r\n\r\n  /**\r\n   * Whether the anchor should be forced to be a CSS display block style or left as is.\r\n   */\r\n  @Prop() blockAnchor: boolean = false;\r\n\r\n  /**\r\n   * Whether the titletip should remain open permanently.\r\n   */\r\n  @Prop() forceOpen: boolean = false;\r\n\r\n  /**\r\n   * Toggle to force a re-render of the whole component.\r\n   */\r\n  @State() iLoveJSX: boolean = false;\r\n\r\n  /**\r\n   * Whether the titletip has been clicked open or not.\r\n   */\r\n  @State() isClickedOpen: boolean = false;\r\n\r\n  justClickedClosed: boolean = false;\r\n\r\n\r\n  @Listen('mouseover')\r\n  handleSlotHover() {\r\n    if (!this.clickToOpen) {\r\n      this.scrollTitletipIntoView();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  @Listen('focusin')\r\n  handleSlotFocus() {\r\n    if (!this.clickToOpen) {\r\n      this.scrollTitletipIntoView();\r\n    }\r\n  }\r\n\r\n\r\n\r\n  scrollTitletipIntoView() {\r\n    let actual = this.el.querySelector(\".yeti-titletip\");\r\n    actual.scrollIntoView({\r\n      behavior: \"smooth\",\r\n      block: \"nearest\"\r\n    });\r\n  }\r\n\r\n\r\n\r\n  componentWillLoad() {\r\n    // Set up ids\r\n    let componentId = this.el.getAttribute(\"id\");\r\n\r\n    if (!componentId || componentId == \"\") {\r\n      componentId = utils.generateUniqueId();\r\n      this.el.setAttribute(\"id\", componentId);\r\n    }\r\n\r\n    this.tipId = (this.tipId != \"\") ? this.tipId : `${componentId}_tip`;\r\n    this.slotId = (this.slotId != \"\") ? this.slotId : `${componentId}_slot`;\r\n  }\r\n\r\n\r\n  render() {\r\n\r\n    let wrapperClass = 'yeti-titletip-wrapper';\r\n    let tipClass = 'yeti-titletip';\r\n\r\n    wrapperClass += (this.wrapperClass != '') ? ` ${this.wrapperClass}` : '';\r\n    tipClass += (this.titletipClass != '') ? ` ${this.titletipClass}` : '';\r\n\r\n  \r\n\r\n\r\n\r\n    switch (this.position) {\r\n\r\n      case \"right\":\r\n\r\n        tipClass += \" yeti-titletip-right\";\r\n        break;\r\n\r\n      case \"below\":\r\n\r\n        tipClass += \" yeti-titletip-below\";\r\n        break;\r\n\r\n      case \"left\":\r\n\r\n        tipClass += \" yeti-titletip-left\";\r\n        break;\r\n\r\n      case \"below-left\":\r\n\r\n        tipClass += \" yeti-titletip-below-left\";\r\n        break;\r\n\r\n      case \"below-right\":\r\n\r\n        tipClass += \" yeti-titletip-below-right\";\r\n        break;\r\n\r\n      case \"above-left\":\r\n\r\n        tipClass += \" yeti-titletip-above-left\";\r\n        break;\r\n\r\n      case \"above-right\":\r\n\r\n        tipClass += \" yeti-titletip-above-right\";\r\n        break;\r\n\r\n    }\r\n\r\n    return ([\r\n      <div class={wrapperClass}>\r\n\r\n        <div \r\n \r\n       \r\n        >\r\n\r\n          <slot />\r\n\r\n        </div>\r\n\r\n\r\n        <div class={tipClass}>\r\n\r\n          <div class=\"yeti-titletip-content\" id={this.tipId}>{this.text}</div>\r\n\r\n        </div>\r\n\r\n      </div>\r\n    ]);\r\n  }\r\n\r\n\r\n\r\n  componentDidRender() {\r\n    let slot = this.el.querySelector(\".yeti-titletip-trigger\").firstElementChild;\r\n    let trigger = this.el.querySelector(\".yeti-titletip-trigger\") as HTMLElement;\r\n    //slot.setAttribute(\"tabindex\", \"0\");\r\n    slot.setAttribute(\"aria-describedby\",this.tipId);\r\n\r\n    if (this.justClickedClosed && trigger) {\r\n      // The user just clicked the tooltip closed. Restore focus to the trigger.\r\n      this.justClickedClosed = false;\r\n      trigger.focus();\r\n    }\r\n\r\n  }\r\n\r\n}\r\n"],"mappings":"4FAMaA,EAAY,MAJzB,WAAAC,CAAAC,G,UAWUC,KAAYC,aAAW,GAKvBD,KAAaE,cAAW,GAKxBF,KAAIG,KAAW,0BAKfH,KAAQI,SAAW,QAKnBJ,KAAWK,YAAY,MAQ5BL,KAAAM,OAAiB,GAQjBN,KAAAO,MAAgB,GAKXP,KAAWQ,YAAY,MAKvBR,KAASS,UAAY,MAKpBT,KAAQU,SAAY,MAKpBV,KAAaW,cAAY,MAElCX,KAAiBY,kBAAY,KAuI9B,CAnIC,eAAAC,GACE,IAAKb,KAAKK,YAAa,CACrBL,KAAKc,wB,EAOT,eAAAC,GACE,IAAKf,KAAKK,YAAa,CACrBL,KAAKc,wB,EAMT,sBAAAA,GACE,IAAIE,EAAShB,KAAKiB,GAAGC,cAAc,kBACnCF,EAAOG,eAAe,CACpBC,SAAU,SACVC,MAAO,W,CAMX,iBAAAC,GAEE,IAAIC,EAAcvB,KAAKiB,GAAGO,aAAa,MAEvC,IAAKD,GAAeA,GAAe,GAAI,CACrCA,EAAcE,EAAMC,mBACpB1B,KAAKiB,GAAGU,aAAa,KAAMJ,E,CAG7BvB,KAAKO,MAASP,KAAKO,OAAS,GAAMP,KAAKO,MAAQ,GAAGgB,QAClDvB,KAAKM,OAAUN,KAAKM,QAAU,GAAMN,KAAKM,OAAS,GAAGiB,Q,CAIvD,MAAAK,GAEE,IAAI3B,EAAe,wBACnB,IAAI4B,EAAW,gBAEf5B,GAAiBD,KAAKC,cAAgB,GAAM,IAAID,KAAKC,eAAiB,GACtE4B,GAAa7B,KAAKE,eAAiB,GAAM,IAAIF,KAAKE,gBAAkB,GAMpE,OAAQF,KAAKI,UAEX,IAAK,QAEHyB,GAAY,uBACZ,MAEF,IAAK,QAEHA,GAAY,uBACZ,MAEF,IAAK,OAEHA,GAAY,sBACZ,MAEF,IAAK,aAEHA,GAAY,4BACZ,MAEF,IAAK,cAEHA,GAAY,6BACZ,MAEF,IAAK,aAEHA,GAAY,4BACZ,MAEF,IAAK,cAEHA,GAAY,6BACZ,MAIJ,OACEC,EAAK,OAAAC,IAAA,2CAAAC,MAAO/B,GAEV6B,EAAA,OAAAC,IAAA,4CAKED,EAAA,QAAAC,IAAA,8CAKFD,EAAK,OAAAC,IAAA,2CAAAC,MAAOH,GAEVC,EAAA,OAAAC,IAAA,2CAAKC,MAAM,wBAAwBC,GAAIjC,KAAKO,OAAQP,KAAKG,Q,CAUjE,kBAAA+B,GACE,IAAIC,EAAOnC,KAAKiB,GAAGC,cAAc,0BAA0BkB,kBAC3D,IAAIC,EAAUrC,KAAKiB,GAAGC,cAAc,0BAEpCiB,EAAKR,aAAa,mBAAmB3B,KAAKO,OAE1C,GAAIP,KAAKY,mBAAqByB,EAAS,CAErCrC,KAAKY,kBAAoB,MACzByB,EAAQC,O","ignoreList":[]}