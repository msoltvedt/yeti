{"file":"yeti-table-pagination.entry.esm.js","mappings":"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","names":[],"sources":["src/components/yeti-table-pagination/yeti-table-pagination.tsx"],"sourcesContent":["import { Component, Prop, h, Element, State, Watch, Event, EventEmitter } from '@stencil/core';\nimport { utils } from '../../utils/utils';\n\n@Component({\n  tag: 'yeti-table-pagination',\n  shadow: false,\n})\nexport class YetiTablePagination {\n\n  @Event() paginationUpdated: EventEmitter;\n\n  @Element() el: HTMLElement;\n\n  @Prop() cssClass: string = '';\n\n  @Prop() htmlId: string = utils.generateUniqueId();\n\n  @Prop() records: number = 0;\n\n  @Prop() showOptions: boolean = true;\n\n  /**\n   * Descriptor of one record (e.g. \"1 item\")\n   */\n  @Prop() recordAliasSingular: string = \"item\";\n\n  /**\n   * Descriptor of multiple records (e.g. \"22 items\")\n   */\n  @Prop() recordAliasPlural: string = \"items\";\n\n  @Watch('records')\n  watchRecordsHandler() {\n    this.updatePages();\n    this.updateIndices();\n  }\n\n  @Prop({\n    reflect: true,\n    mutable: true\n  }) startIndex: number = 0;\n\n  @Prop({\n    reflect: true,\n    mutable: true\n  }) recordsDisplayed: number = 0;\n\n  @Watch('recordsDisplayed')\n  watchRecordsDisplayed() {\n    this.paginationUpdated.emit({\n      \"currentPage\": this.selectedPage-1,\n      \"recordsDisplayed\": this.recordsDisplayed\n    });\n  }\n\n  @State() itemsPerPageOptions: (number | string)[] = [10, 25, 50, 100, \"All\"];\n\n  @State() selectedItemsPerPageOptionIndex: number = 0;\n\n  @Prop({\n    reflect: true,\n    mutable: true\n  }) selectedPage: number = 1;\n\n  @State() pages: number = 1;\n\n\n\n  parseOptionElements(options: HTMLCollection) {\n\n    let newItemsPerPageOptions: Array<number | string> = [];\n\n    for (let i = 0; i < options.length; i++) {\n      \n      let option = options.item(i);\n      \n      // First, confirm this element is indeed a yeti-table-pagination-option element.\n      if (option.tagName.toLowerCase() == 'yeti-table-pagination-option') {\n\n        // Check to see if it has an all attribute, and push the string \"All\" if it does.\n        if (option.attributes && option.attributes['all']) {\n\n          newItemsPerPageOptions.push(\"All\");\n\n        } else {\n\n          // Check to see if it has a valid number for its contents, and warn if it doesn't.\n          let contents = parseInt(option.innerHTML);\n\n          if (!Number.isNaN(contents)) {\n\n            newItemsPerPageOptions.push(contents);\n\n          } else {\n            \n            console.warn(`Ignoring \\<yeti-table-pagination-option\\> with invalid value \\\"${option.innerHTML}\\\". Numbers only please.`);\n          \n          }\n\n        }\n\n      }\n\n    } // End for\n\n    // Update itemsPerPageOptions if necessary.\n    if (newItemsPerPageOptions.length > 0) {\n      this.itemsPerPageOptions = newItemsPerPageOptions;\n    }\n\n    // Finally, we need to remove the option elements.\n    for (let j = options.length - 1; j >= 0; --j) {\n      options.item(j).remove();\n    }\n\n  }\n\n\n\n  getItemsPerPageOption() {\n    return this.itemsPerPageOptions[ this.selectedItemsPerPageOptionIndex ];\n  }\n\n\n\n  updateIndices() {\n    let itemsPerPage = this.getItemsPerPageOption();\n\n    // First set start index\n    if (itemsPerPage == \"All\" || itemsPerPage as number > this.records) {\n\n      this.startIndex = 0;\n\n    } else {\n\n      this.startIndex = ((this.selectedPage - 1) * (itemsPerPage as number));\n\n    }\n\n    // Second set end index\n    if (itemsPerPage == \"All\" || itemsPerPage as number > this.records) {\n\n      this.recordsDisplayed = this.records;\n\n    } else {\n      \n      this.recordsDisplayed = Math.min(\n        (this.records - this.startIndex),\n        (itemsPerPage as number)\n      )\n\n    }\n\n  }\n\n\n\n  updatePages() {\n    let p = this.getItemsPerPageOption();\n    p = (p == \"All\") ? 1 : Math.ceil(this.records / (p as number));\n    this.pages = p;\n  }\n\n\n\n  handleItemsPerPageChange(e: Event) {\n    let select = e.target as HTMLSelectElement;\n    this.selectedItemsPerPageOptionIndex = select.selectedIndex;\n    this.selectedPage = 1;\n    this.updatePages();\n    this.updateIndices();\n    e.preventDefault();\n    this.paginationUpdated.emit({\n      \"currentPage\": this.selectedPage-1,\n      \"recordsDisplayed\": this.recordsDisplayed\n    });\n  }\n\n\n\n  handlePageSelectChange(e: Event) {\n    let select = e.target as HTMLSelectElement;\n    this.selectedPage = parseInt(select.value);\n    this.updateIndices();\n    e.preventDefault();\n    this.paginationUpdated.emit({\n      \"currentPage\": this.selectedPage-1,\n      \"recordsDisplayed\": this.recordsDisplayed\n    });\n  }\n\n\n\n  handlePreviousPageButtonClick(ev) {\n    this.selectedPage = Math.max(1, this.selectedPage - 1);\n    this.updateIndices();\n    ev.preventDefault();\n    this.paginationUpdated.emit({\n      \"currentPage\": this.selectedPage-1,\n      \"recordsDisplayed\": this.recordsDisplayed\n    });\n  }\n\n\n\n  handleNextPageButtonClick(ev) {\n    this.selectedPage = Math.min(this.pages, this.selectedPage + 1);\n    this.updateIndices();\n    ev.preventDefault();\n    this.paginationUpdated.emit({\n      \"currentPage\": this.selectedPage-1,\n      \"recordsDisplayed\": this.recordsDisplayed\n    });\n  }\n\n\n\n  componentWillLoad() {\n    let optionElements = this.el.children;\n\n    // Look for and handle any <yeti-table-pagnation-option> elements.\n    if (optionElements.length > 0) {\n      \n      this.parseOptionElements(optionElements);\n\n    }\n\n  }\n\n\n\n  render() {\n\n    let cssClasses = 'yeti-table-pagination';\n\n    //console.warn('Pagination render()', this.el);\n\n    if (this.cssClass != '') {\n      cssClasses += ' ' + this.cssClass;\n    }\n\n    return (\n      \n      <nav class={cssClasses} aria-label=\"Table Pagination\">\n\n        {/* Items per page */}\n        \n          <div class=\"yeti-table-pagination-items_per_page\">\n\n            { (this.showOptions) ?\n\n              <div>\n\n                <label htmlFor=\"demo-items_per_page\" class=\"yeti-table-pagination-items_per_page-label\">{this.recordAliasPlural} per page:</label>\n\n                <select id=\"demo-items_per_page\" class=\"yeti-select yeti-table-pagination-items_per_page-select\" onChange={(e) => {\n                  this.handleItemsPerPageChange(e);\n                }}>\n                  {\n                    this.itemsPerPageOptions.map((option) => {\n                      return <option value={option} class=\"yeti-table-pagination-items_per_page-select-option\">{option}</option>\n                    })\n                  }\n                </select>\n              \n              </div>\n\n            :\n              \n              \"\"\n            \n            }\n\n              <span class=\"yeti-table-pagination-items_per_page-count\">\n                { \n                  this.getItemsPerPageOption() == \"All\" || this.records == 0 ? \n                    \"\" \n                    : (this.startIndex + 1) + ' to ' + (this.startIndex + this.recordsDisplayed) /*(this.endIndex + 1)*/ + ' of '\n                }\n                {this.records} { this.records == 1 ? this.recordAliasSingular : this.recordAliasPlural}\n              </span>\n\n          </div>\n\n\n        {/* Pages */}\n        {\n          (this.records > 0) ?\n          <div class=\"yeti-table-pagination-pages\">\n\n              <label htmlFor=\"demo-pages\" class=\"yeti-a11y-hidden\">Page number, of {this.pages} page{this.pages == 1 ? '' : 's'}</label>\n\n              <select id=\"demo-pages\" class=\"yeti-select yeti-table-pagination-pages-select\" onChange={(e) => {\n                this.handlePageSelectChange(e);\n              }}>\n                  {(() => {\n                    let options = [];\n                    for (let i=1; i <= this.pages; i++) {\n                      options.push(<option value={i} class=\"yeti-table-pagination-pages-select-page\"  {...((i == this.selectedPage) && { selected: true })}>{i}</option>);\n                    }\n                    return options;\n                  })()}\n              </select>\n\n              <span class=\"yeti-table-pagination-pages-of_pages\" aria-hidden=\"true\">of {this.pages} page{this.pages == 1 ? '' : 's'}</span>\n\n              <ul class=\"yeti-table-pagination-pages-buttons\">\n\n                  <li class=\"yeti-table-pagination-pages-buttons-action\">\n\n                      <button \n                        class=\"yeti-table-pagination-pages-buttons-button\"\n                        onClick={(ev) => {this.handlePreviousPageButtonClick(ev)}}\n                        {...((this.selectedPage == 1) && { disabled: true })}\n                      >\n\n                          <span class=\"material-icons\" aria-hidden=\"true\">arrow_left</span>\n                          <span class=\"yeti-a11y-hidden\">Previous page</span>\n\n                      </button>\n\n                  </li>\n\n                  <li class=\"yeti-table-pagination-pages-buttons-action\">\n                    \n                      <button \n                        class=\"yeti-table-pagination-pages-buttons-button\"\n                        onClick={(ev) => {this.handleNextPageButtonClick(ev)}}\n                        {...((this.selectedPage == this.pages) && { disabled: true })}\n                      >\n                          <span class=\"material-icons\" aria-hidden=\"true\">arrow_right</span>\n                          <span class=\"yeti-a11y-hidden\">Next page</span>\n                      </button>\n\n                  </li>\n\n              </ul>\n\n          </div>\n          :\n          \"\"\n        }\n        \n    </nav>\n    );\n  }\n\n\n  componentDidRender() {\n    //console.warn(\"Pagination did render.\", this.el)\n    \n  }\n\n}\n"],"version":3}