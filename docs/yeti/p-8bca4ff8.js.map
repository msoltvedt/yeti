{"version":3,"names":["format","first","middle","last","utils","generateUniqueId","uniqueId","wrapAll","elements","wrapper","i","length","appendChild","isEqual","a","b","objKeysA","Object","keys","objKeysB","areBothArrays","Array","isArray","areBothObjects","this","isObject","key","aValue","bValue","object","isConvertibleToDate","possibleDate","re","search","dateObject","Date","toString","isConvertibleToNumber","possibleNumber","replace","getStringifiedType","dunno","castToNumber","someString","parseFloat","isValidJSON","candidate","JSON","stringify","parse","e","getMonthName","date","Intl","DateTimeFormat","month","aria","ignoreUtilFocusChanges","focusFirstDescendant","element","childNodes","child","attemptFocus","focusLastDescendant","isFocusable","focus","document","activeElement","tabIndex","disabled","nodeName","href","rel","type"],"sources":["src/utils/utils.ts"],"sourcesContent":["export function format(first: string, middle: string, last: string): string {\r\n  return (first || '') + (middle ? ` ${middle}` : '') + (last ? ` ${last}` : '');\r\n}\r\n\r\nexport const utils = {\r\n\r\n\r\n  generateUniqueId: function () {\r\n    ++uniqueId;\r\n    return 'yid' + uniqueId;\r\n  },\r\n\r\n\r\n  wrapAll: function (elements: HTMLCollection, wrapper: HTMLElement) {\r\n    for (let i = 0; i < elements.length; i++) {\r\n      wrapper.appendChild(elements[i]);\r\n    }\r\n  },\r\n\r\n\r\n  isEqual: function (a, b) {\r\n\r\n    const objKeysA = Object.keys(a);\r\n    const objKeysB = Object.keys(b);\r\n\r\n    const areBothArrays = Array.isArray(a) && Array.isArray(b);\r\n    const areBothObjects = this.isObject(a) && this.isObject(b);\r\n\r\n    // Handle type mismatch\r\n    if (typeof a != typeof b) {\r\n      return false;\r\n    }\r\n\r\n    // Handle arrays\r\n    if (areBothArrays) {\r\n      if (a.length != b.length) {\r\n        return false;\r\n      } else {\r\n        for (let i = 0; i < a.length; i++) {\r\n          if (!this.isEqual(a[i], b[i])) {\r\n            return false;\r\n          }\r\n        }\r\n        return true;\r\n      }\r\n    }\r\n\r\n    // Handle non-array objects\r\n    if (areBothObjects) {\r\n\r\n      if (objKeysA.length !== objKeysB.length) {\r\n        return false;\r\n      }\r\n\r\n      for (var key of objKeysA) {\r\n        const aValue = a[key];\r\n        const bValue = b[key];\r\n\r\n        if (!this.isEqual(aValue, bValue)) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    // Handle everything else\r\n    return a === b;\r\n  },\r\n\r\n\r\n\r\n  isObject: function (object) {\r\n    return object != null && typeof object === \"object\";\r\n  },\r\n\r\n\r\n\r\n  isConvertibleToDate: function (possibleDate: string) {\r\n    const re = /(^[0-9]{1,4}(\\/|\\-)[0-9]{1,2}(\\/|\\-)[0-9]{2,4}$)|(^((jan|Jan|JAN|january|January|JANUARY)|(feb|Feb|FEB|february|February|FEBRUARY)|(mar|Mar|MAR|march|March|MARCH)|(apr|Apr|APR|april|April|APRIL)|(may|May|MAY)|(jun|Jun|JUN|june|June|JUNE)|(jul|Jul|JUL|july|July|JULY)|(aug|Aug|AUG|august|August|AUGUST)|(sep|Sep|SEP|september|September|SEPTEMBER)|(oct|Oct|OCT|october|October|OCTOBER)|(nov|Nov|NOV|november|November|NOVEMBER)|(dec|Dec|DEC|december|December|DECEMBER))\\s[0-9]{1,4}$)/g;\r\n    if (possibleDate.search(re) > -1) {\r\n      let dateObject = new Date(possibleDate);\r\n      if (dateObject.toString() == \"Invalid Date\") {\r\n        return false;\r\n      } else {\r\n        return true;\r\n      }\r\n    } else {\r\n      return false;\r\n    }\r\n  },\r\n\r\n\r\n\r\n  isConvertibleToNumber: function (possibleNumber: string) {\r\n    const re = /(^(((-|\\+)?((\\d)*(\\.)?(\\d)*)){1})$)/g;\r\n    // let castedPossibility = this.castToNumber(possibleNumber.toString());\r\n    possibleNumber = possibleNumber.replace(/,/g, \"\");\r\n    if (possibleNumber.search(re) > -1) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n    // if (Number.isNaN(castedPossibility)) {\r\n    //   return false;\r\n    // } else {\r\n    //   return true;\r\n    // }\r\n  },\r\n\r\n\r\n\r\n  getStringifiedType: function (dunno: string) {\r\n    if (utils.isConvertibleToDate(dunno)) {\r\n      return \"date\";\r\n    } else {\r\n      if (utils.isConvertibleToNumber(dunno)) {\r\n        return \"number\";\r\n      } else {\r\n        return \"string\";\r\n      }\r\n    }\r\n  },\r\n\r\n\r\n\r\n  castToNumber: function (someString: string) {\r\n    return parseFloat(someString.replace(/,/g, ''));\r\n  },\r\n\r\n\r\n\r\n  isValidJSON: function (candidate: object | string) {\r\n\r\n    candidate = JSON.stringify(candidate);\r\n\r\n    try {\r\n      JSON.parse(candidate);\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n    return true;\r\n\r\n  },\r\n\r\n\r\n\r\n  getMonthName: function (date: Date) {\r\n    return new Intl.DateTimeFormat(\"en-US\", { month: \"long\" }).format(date);\r\n  },\r\n\r\n\r\n\r\n  aria: {\r\n    // Primarily from the W3 APG\r\n\r\n\r\n\r\n    ignoreUtilFocusChanges: false,\r\n\r\n\r\n\r\n    focusFirstDescendant: function (element) {\r\n      for (var i = 0; i < element.childNodes.length; i++) {\r\n        var child = element.childNodes[i];\r\n        if (\r\n          utils.aria.attemptFocus(child) ||\r\n          utils.aria.focusFirstDescendant(child)\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }, // end focusFirstDescendant\r\n\r\n\r\n\r\n    focusLastDescendant: function (element) {\r\n      for (var i = element.childNodes.length - 1; i >= 0; i--) {\r\n        var child = element.childNodes[i];\r\n        if (\r\n          utils.aria.attemptFocus(child) ||\r\n          utils.aria.focusLastDescendant(child)\r\n        ) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }, // end focusLastDescendant\r\n\r\n\r\n\r\n    attemptFocus: function (element) {\r\n      if (!utils.aria.isFocusable(element)) {\r\n        return false;\r\n      }\r\n\r\n      utils.aria.ignoreUtilFocusChanges = true;\r\n      try {\r\n        element.focus();\r\n      } catch (e) {\r\n        // continue regardless of error\r\n      }\r\n      utils.aria.ignoreUtilFocusChanges = false;\r\n      return document.activeElement === element;\r\n    }, // end attemptFocus\r\n\r\n\r\n\r\n    isFocusable: function (element) {\r\n      if (element.tabIndex < 0) {\r\n        return false;\r\n      }\r\n\r\n      if (element.disabled) {\r\n        return false;\r\n      }\r\n\r\n      switch (element.nodeName) {\r\n        case 'A':\r\n          return !!element.href && element.rel != 'ignore';\r\n        case 'INPUT':\r\n          return element.type != 'hidden';\r\n        case 'BUTTON':\r\n        case 'SELECT':\r\n        case 'TEXTAREA':\r\n          return true;\r\n        default:\r\n          return false;\r\n      }\r\n    },\r\n\r\n  } // End aria\r\n\r\n\r\n\r\n}\r\n\r\n\r\n\r\n/****************************************************** Interfaces *********************************************/\r\nexport interface YetiTableContents {\r\n  head?: {\r\n    cssClass?: string,\r\n    id?: string,\r\n    rows: YetiTableRow[]\r\n  },\r\n\r\n  body: {\r\n    cssClass?: string,\r\n    id?: string,\r\n    rows: YetiTableRow[]\r\n  },\r\n\r\n  foot?: {\r\n    cssClass?: string,\r\n    id?: string,\r\n    rows: YetiTableRow[]\r\n  },\r\n\r\n  state?: {\r\n    totalRecords: number\r\n  }\r\n}\r\n\r\nexport interface YetiTableRow {\r\n  cssClass?: string,\r\n  isExpandable?: boolean,\r\n  id?: string,\r\n  cells: YetiTableCell[],\r\n  rowIndex?: number,\r\n  rowActionsJustChanged?: boolean,\r\n  detail?: object,\r\n  isSelected?: boolean,\r\n  isExpanded?: boolean,\r\n  childRows?: YetiTableRow[]\r\n}\r\n\r\nexport interface YetiTableCell {\r\n  cssClass?: string,\r\n  isHeading?: boolean,\r\n  sortDirection?: string, // \"ascending\" | \"descending\" | \"unsorted\"\r\n  id?: string,\r\n  value: string,\r\n  columnIndex?: number,\r\n  rowIndex?: number,\r\n  filtering?: YetiTableFilterObject,\r\n  rowActions?: YetiTableRowAction[],\r\n  scope?: string, // \"col\" (default) | \"row\",\r\n  template?: any, // HTML\r\n  detail?: object,\r\n  isRadio?: boolean,\r\n  colspan?: number,\r\n  rowspan?: number\r\n}\r\n\r\nexport interface YetiTableFilterObject {\r\n  isFilterable: boolean,\r\n  isClearCell: boolean,\r\n  type?: string, // \"text\" | \"date\" | \"select\" | \"multiselect\"\r\n  options?: string[],\r\n  value?: string\r\n}\r\n\r\nexport interface YetiTableRowAction {\r\n  label: string,\r\n  href?: string\r\n}\r\n\r\nexport interface YetiMultiselectOption {\r\n  selected: boolean,\r\n  label: string,\r\n  id?: string\r\n}\r\n\r\nexport interface YetiMenuButtonOption {\r\n  label: string,\r\n  href?: string,\r\n  hasHTML?: boolean,\r\n  id: string,\r\n  value?: string,\r\n  innerHTML?: string\r\n}\r\n\r\nlet uniqueId = 0;\r\n\r\n/*** File Explorer types ***/\r\nexport interface YetiFileSystemItem {\r\n  name: string,\r\n  content?: YetiFileSystemItem[],\r\n  path: string,\r\n  selectedIndex?: number,\r\n  offset?: number,\r\n  pageSize?: number,\r\n  totalElements?: number,\r\n  isFolder?: boolean,\r\n  isSelected?: boolean,\r\n  isRoot?: boolean,\r\n  id?: string,\r\n  type?: string // \"file\" | \"folder\"\r\n}"],"mappings":"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"}