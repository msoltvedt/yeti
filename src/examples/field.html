<!DOCTYPE html>
<html dir="ltr" lang="en">
  <head>

    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=5.0" />

    <title>Yeti Design System - Form Field Component</title>

    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/yeti-examples-only.css">

    <style>
        .test {
            border: 3px solid purple;
        }
    </style>

  </head>
  <body>

    <div class="ydoc-wrapper">

      <div role="main">
    
        <h1 class="margin-top-none">Form Field Component</h1>

        <yeti-page-contents ignore-within="ydoc-code_sample"></yeti-page-contents>

        <p>
            A Form <em>Field</em> is some sort of input (or its read-only equivalent) together with its related <a href="form.html#label"><em>Label</em></a> and, if necessary, a <a href="form.html#tip"><em>Tip</em></a> or <em>Field Error</em>.
        </p>

        <h2 class="yeti-margin-vertical-3">Code Samples</h2>


        <h3 class="margin-bottom-2">Text</h3>


        <h4 class="margin-bottom-2">Default</h4>

        <p class="margin-bottom-2">
            The <code>label</code> attribute is required.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">
    
<yeti-field label="Example label"></yeti-field>

        </div><!-- /code_sample -->



        <h4 class="margin-bottom-2">With Inline Label</h4>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">
    
<yeti-field label="Example label" is-inline="true"></yeti-field>

        </div><!-- /code_sample -->



        <h4 class="margin-bottom-2">With Tip</h4>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">
    
<yeti-field label="Example label" tip="I'm a useful tip."></yeti-field>

        </div><!-- /code_sample -->


        <h4 class="margin-bottom-2">With Default Value</h4>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">
    
<yeti-field label="Example label" default-value="Something"></yeti-field>

        </div><!-- /code_sample -->



        <h4 class="margin-bottom-2">With an ID</h4>

        <p class="margin-bottom-2">
            If you want to pass an id down from the component to the actual input field, you can use <code>input-id</code>. Regular <code>id</code> will still point to the component wrapper (<code>yeti-field</code>). If you don't provide an id, one will be auto-generated for you.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="This label connects via the supplied ID" input-id="inputFieldId"></yeti-field>

        </div><!-- /code_sample -->



        <h4 class="margin-bottom-2">Validation and Required Fields</h4>

        <p class="margin-bottom-2">
            Fields marked required (<code>required="true"</code>) auto-validate themselves by default (they check to see if the field is empty).
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="You Must Enter Something Here" required="true"></yeti-field>

        </div><!-- /code_sample -->



        <h5 class="margin-bottom-2">Error</h5>

        <p class="margin-bottom-2">
            You can manually set the field to an error state and provide an error message.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="Example label" is-valid="false" error-message="Invalid value"></yeti-field>

        </div><!-- /code_sample -->



        <h5 class="margin-bottom-2">Manual Validation</h5>

        <p class="margin-bottom-2">
            You can disable auto-validation as needed.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="Handle Errors For This Field Yourself" required="true" autovalidate="false"></yeti-field>

        </div><!-- /code_sample -->



        <h4 class="margin-bottom-4">Ready for Verification</h4>

        <p class="margin-bottom-2">
            The YetiInput component inside the YetiField component will fire two different events that signify it's ready for verification: slow and fast. The slow verification event, which is called <code>readyToVerifySlow</code>, will happen <em>after</em> the user is done interacting with the input (e.g. on blur).
        </p>

        <h5 class="margin-top-3 margin-bottom-2">Slow</h5>

        <p class="margin-bottom-2">
            In the example below, we use <em>slow verification</em> to see if the input is empty. If it is, we set the <code>is-valid</code> attribute to <code>false</code> <em>on YetiField</em>, and if the input has a value we set <code>is-valid</code> to <code>true</code>.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="Enter something" id="slowVerification" error-message="Enter any value"></yeti-field>

<script>

    const fieldComponentSlow = document.getElementById('slowVerification');

    fieldComponentSlow.addEventListener('readyToVerifySlow', (ev) => {
        let input = ev.target;
        let value = input.value;
        if (!value) {
            fieldComponentSlow.setAttribute('is-valid', false);
        } else {
            fieldComponentSlow.setAttribute('is-valid', true);
        }
    });

</script>

        </div><!-- /code_sample -->

        <h5 class="margin-bottom-2">Fast</h5>

        <p class="margin-bottom-2">
            In the example below, we do the same thing as in the slow example above, but this time we use <em>fast verification</em>.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="Enter anything" id="fastVerification" error-message="Enter any value."></yeti-field>

<script>

    const fieldComponentFast = document.getElementById('fastVerification');

    fieldComponentFast.addEventListener('readyToVerifyFast', (ev) => {
        let input = ev.target;
        let value = input.value;
        if (value == '') {
            fieldComponentFast.setAttribute('is-valid', false);
        } else {
            fieldComponentFast.setAttribute('is-valid', true);
        }
    });

</script>

        </div><!-- /code_sample -->



        <h3 class="margin-bottom-2">Date</h3>


        <h4 class="margin-bottom-2">Default</h4>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">
    
<yeti-field label="Example label" type="date"></yeti-field>

        </div><!-- /code_sample -->



        <h4 class="margin-bottom-4">Ready for Verification</h4>

        <p class="margin-bottom-2">
            Unlike the Input control, the Date Picker only fires a <code>readyToVerifySlow</code> event which will happen <em>after</em> the user is done interacting with the control. Since that event bubbles up, we can essentially override the default error messages.
        </p>

        <!-- Note, align the actual code all the way left (i.e. remove all indenting tabs) if possible -->
        <div class="ydoc-code_sample">

<yeti-field label="Date of Birth" id="dateField" required="true" type="date"></yeti-field>

<script>

    const dateFieldComponent = document.getElementById('dateField');

    dateFieldComponent.addEventListener('readyToVerifySlow', (ev) => {
        let datePicker = ev.target;
        let value = datePicker.value;
        let requiredErrorMessage = `I'm a custom error message for empty required fields.`;
        let invalidErrorMessage = "I'm a custom error message for invalid date fields."

        // Two cases: (1) user visited the field and left it empty and (2) user entered an invalid entry

        if (value == "" && datePicker.required) {

            // Case 1: empty required field

            dateFieldComponent.setAttribute('error-message', requiredErrorMessage)
            dateFieldComponent.setAttribute('is-valid', false);

        } else if (value != "" && !datePicker.isValid) {

            // Case 2: invalid entry

            dateFieldComponent.setAttribute('error-message', invalidErrorMessage);
            dateFieldComponent.setAttribute('is-valid', false);

        } else {

            // Otherwise we're good.
            dateFieldComponent.setAttribute('is-valid', true);

        }
    });

</script>

        </div><!-- /code_sample -->



        <h2 class="margin-bottom-3">Technical Notes</h2>

        <ul class="yeti-list-bulleted">
          <li>Field currently only supports types of <code>text</code> and <code>date</code> as shown above.</li>
        </ul>

      </div><!-- /main -->
    
    </div><!-- /wrapper -->

    <script type="module" src="./yeti/yeti.esm.js"></script>

    <script type="module" src="./js/docs-scripts.mjs"></script>
    
  </body>
</html>
